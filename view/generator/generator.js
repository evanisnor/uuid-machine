(function(){(function(e){var t=function(){var e;try{Object.create(null),e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;return t===null?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}return e}(),n=function(){return typeof document=="object"?!0:!1}(),r=function(e){try{return Object.defineProperty({},"test",{value:0}),e&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(t){return function(e,t,n){e[t]=n.value}}}(n),i=function(e,t){try{try{Object.defineProperties({},{test:{value:0}})}catch(n){throw n}return t&&Object.defineProperties(document.createElement("div"),{test:{value:0}}),Object.defineProperties}catch(n){return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}}(r,n),s=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(t){return t.replace(e,".$1")}}(),o={},u={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9
,DELIMCHANGE:10,MUSTACHE:11,TAG:12,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},a=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}(),f=function(){return function e(t,n){var r,i;(i=t._wrapped[n])&&i.teardown()!==!1&&(t._wrapped[n]=null),t._cache[n]=undefined;if(r=t._cacheMap[n])while(r.length)e(t,r.pop())}}(),l=function(){return function(e,t){var n,r,i,s,o,u;n=[],u=e.rendered?e.el:e.fragment.docFrag,r=u.querySelectorAll('input[type="checkbox"][name="{{'+t+'}}"]'),s=r.length;for(o=0;o<s;o+=1){i=r[o];if(i.hasAttribute("checked")||i.checked)n[n.length]=i._ractive.value}return n}}(),c=function(e){return function(t){var n,r,i,s,o,u;n=t._deferred;while(r=n.evals.pop())r.update().deferred=!1;while(i=n.selectValues.pop())i.deferredUpdate();while(
s=n.attrs.pop())s.update().deferred=!1;while(o=n.checkboxes.pop())t.set(o,e(t,o));while(u=n.radios.pop())u.update()}}(l),h=function(){return function(e){var t,n,r,i,s,o;t=e._deferred;if(n=t.focusable)n.focus(),t.focusable=null;while(r=t.liveQueries.pop())r._sort();while(i=t.decorators.pop())i.init();while(s=t.transitions.pop())s.init();while(o=t.observers.pop())o.update()}}(),p=function(){var e=function(e,t){var n,r,i,s;return r=[],i=function(){var e,t;e=r.length;while(e--)t=r[e],s(t.node)&&(t.detach(),r.splice(e,1))},s=function(e){var t,r;t=n.active.length;while(t--){r=n.active[t];if(e.contains(r))return!1}return!0},n={active:[],push:function(e){n.active[n.active.length]=e},pop:function(e){var t;t=n.active.indexOf(e);if(t===-1)return;n.active.splice(t,1),i(),!n.active.length&&n._ready&&n.complete()},complete:function(){t&&t.call(e)},ready:function(){i(),n._ready=!0,n.active.length||n.complete()},detachWhenReady:function(e){r[r.length]=e}},n};return e}(),d=function(){function r(e,t,n,r)
{var o=e._deps[n];if(!o)return;i(o[t]);if(r)return;s(e._depsMap[t],e,n)}function i(e){var t,n;if(e){n=e.length;for(t=0;t<n;t+=1)e[t].update()}}function s(e,t,n,i){var s;if(e){s=e.length;while(s--)r(t,e[s],n,i)}}function o(e,n,r,i,s){var a,f,l,c,h,p,d,v;a=e._patternObservers.length;while(a--)f=e._patternObservers[a],f.regex.test(r)&&f.update(r);if(i)return;v=function(n){if(l=e._depsMap[n]){a=l.length;while(a--)c=l[a],h=t.exec(c)[0],p=r+"."+h,o(e,c,p)}},s?(d=u(r),d.forEach(v)):v(n)}function u(e){var t,n,r,i,s,o;t=e.split("."),n=a(t.length),s=[],r=function(e,n){return e?"*":t[n]},i=n.length;while(i--)o=n[i].map(r).join("."),s[o]||(s[s.length]=o,s[o]=!0);return s}function a(e){var t="",r,i,s,o,u;if(!n[e]){s=[];while(t.length<e)t+=1;r=parseInt(t,2),o=function(e){return e==="1"};for(u=0;u<=r;u+=1){i=u.toString(2);while(i.length<e)i="0"+i;s[u]=Array.prototype.map.call(i,o)}n[e]=s}return n[e]}var e,t,n={};return t=/[^\.]+$/,e=function(e,t,n){var i;e._patternObservers.length&&o(e,t,t,n,!0);for(i=0
;i<e._deps.length;i+=1)r(e,t,i,n)},e.multiple=function(e,t,n){var i,s,u;u=t.length;if(e._patternObservers.length){i=u;while(i--)o(e,t[i],t[i],n,!0)}for(i=0;i<e._deps.length;i+=1)if(e._deps[i]){s=u;while(s--)r(e,t[s],i,n)}},e}(),v=function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m,g;return a={filter:function(e,t,r){return r.charAt(0)!=="("&&n(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(e,t,n){return new l(e,t,n)}},l=function(e,n,r){this.root=e,this.value=n,this.keypath=r,n._ractive||(t(n,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),c(n)),n._ractive.instances[e._guid]||(n._ractive.instances[e._guid]=0,n._ractive.instances.push(e)),n._ractive.instances[e._guid]+=1,n._ractive.wrappers.push(this)},l.prototype={get:function(){return this.value},teardown:function(){var e,t,n,r,i;e=this.value,t=e._ractive,n=t.wrappers,r=t.instances;if(t.setting)return!1;i=n.indexOf(this);if(i===-1)throw new Error(g);n.splice(i,1);if(!n.length)delete e._ractive,h(this.value);else{
r[this.root._guid]-=1;if(!r[this.root._guid]){i=r.indexOf(this.root);if(i===-1)throw new Error(g);r.splice(i,1)}}}},f=function(t,n,s){var o,a,f,l,c;o=function(e,o){var f,l,c,h,p,d,v,m,g,y,b,w;if(n==="sort"||n==="reverse"){e.set(o,t);return}r(e,o),p=[],d=[];for(v=0;v<e._deps.length;v+=1){f=e._deps[v];if(!f)continue;l=f[o];if(l){a(o,l,p,d),i(e);while(p.length)p.pop().smartUpdate(n,s);while(d.length)d.pop().update()}}if(n==="splice"&&s.length>2&&s[1]){m=Math.min(s[1],s.length-2),g=s[0],y=g+m,s[1]===s.length-2&&(w=!0);for(v=g;v<y;v+=1)b=o+"."+v,u(e,b)}i(e),h=[],c=o.split(".");while(c.length)c.pop(),h[h.length]=c.join(".");u.multiple(e,h,!0),w||u(e,o+".length",!0)},a=function(t,n,r,i){var s,o;s=n.length;while(s--)o=n[s],o.type===e.REFERENCE?o.update():o.keypath===t&&o.type===e.SECTION&&!o.inverted&&o.pNode?r[r.length]=o:i[i.length]=o},f=t._ractive.wrappers,c=f.length;while(c--)l=f[c],o(l.root,l.keypath)},p=[],v=["pop","push","reverse","shift","sort","splice","unshift"],m=function(){},v.forEach
(function(e){var n=function(){var t,n,r,u,a={},l={};t=Array.prototype[e].apply(this,arguments),n=this._ractive.instances,u=n.length;while(u--)r=n[u],a[r._guid]=r._transitionManager,r._transitionManager=l[r._guid]=o(r,m);this._ractive.setting=!0,f(this,e,arguments),this._ractive.setting=!1,u=n.length;while(u--)r=n[u],r._transitionManager=a[r._guid],l[r._guid].ready(),i(r),s(r);return t};t(p,e,{value:n})}),d={},d.__proto__?(c=function(e){e.__proto__=p},h=function(e){e.__proto__=Array.prototype}):(c=function(e){var n,r;n=v.length;while(n--)r=v[n],t(e,r,{value:p[r],configurable:!0})},h=function(e){var t;t=v.length;while(t--)delete e[v[t]]}),g="Something went wrong in a rather interesting way",a}(u,r,a,f,c,h,p,d),m=function(){var e,t;try{Object.defineProperty({},"test",{value:0})}catch(n){return!1}return e={wrap:function(e,n,r){return new t(e,n,r)}},t=function(e,t,n){var r=this,i,s,o,u,a,f,l,c,h;this.ractive=e,this.keypath=n,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=e.get(o),u=
this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(u&&u.set&&(a=u.set._ractiveWrappers)){a.indexOf(this)===-1&&(a[a.length]=this);return}if(u&&!u.configurable)throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable');u&&(this.value=u.value,f=u.get,l=u.set),c=f||function(){return r.value},h=function(e){var t,n,r;l&&l(e),t=h._ractiveWrappers,r=t.length;while(r--)n=t[r],n.resetting||n.ractive.set(n.keypath,e)},h._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:c,set:h,enumerable:!0,configurable:!0})},t.prototype={get:function(){return this.value},reset:function(e){this.resetting=!0,this.value=e,this.obj[this.prop]=e,this.resetting=!1},teardown:function(){var e,t,n,r;e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e.set,r=t._ractiveWrappers,r.splice(r.indexOf(this),1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor),this.obj[this.prop]=n)}},e}(),g=function(
e,t,n,r){var i,s,o,u,a,f={},l;return i=function(e){return s(this,e)},s=function(t,n){var r,i,s,u,a;return n=e(n||""),r=t._cache,(i=r[n])!==undefined?i:((u=t._wrapped[n])?s=u.value:n?(a=t._evaluators[n])?s=a.value:s=o(t,n):(l(t,"",t.data),s=t.data),r[n]=s,s)},o=function(e,t){var i,o,u,a,f,c,h;i=t.split("."),o=i.pop(),u=i.join("."),a=s(e,u);if(h=e._wrapped[u])a=h.get();if(a===null||a===undefined)return;return(f=e._cacheMap[u])?f.indexOf(t)===-1&&(f[f.length]=t):e._cacheMap[u]=[t],c=a[o],l(e,t,c)?c:(e.magic&&(e._wrapped[t]=r.wrap(e,c,t)),e.modifyArrays&&n.filter(e,c,t)&&(e._wrapped[t]=n.wrap(e,c,t)),e._cache[t]=c,c)},u=function(e,t){var n={},r;if(!t)return e;t+=".";for(r in e)e.hasOwnProperty(r)&&(n[t+r]=e[r]);return n},a=function(e){var t;return f[e]||(t=e?e+".":"",f[e]=function(n,r){var i;if(typeof n=="string")return i={},i[t+n]=r,i;if(typeof n=="object")return t?u(n,e):n}),f[e]},l=function(e,n,r){var i,s,o;i=e.adaptors.length;while(i--){s=e.adaptors[i];if(typeof s=="string"){if(!t[s])throw new 
Error('Missing adaptor "'+s+'"');s=e.adaptors[i]=t[s]}if(s.filter(r,n,e))return o=e._wrapped[n]=s.wrap(e,r,n,a(n)),e._cache[n]=r,!0}},i}(s,o,v,m),y=function(){var e=Object.prototype.toString;return function(t){return typeof t=="object"&&e.call(t)==="[object Object]"}}(),b=function(){return function(e,t){return e===null&&t===null?!0:typeof e=="object"||typeof t=="object"?!1:e===t}}(),w=function(){var e;return e=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p;p='Could not resolve reference - too many "../" prefixes';if(t===".")return n.length?n[n.length-1]:"";if(t.charAt(0)==="."){h=n[n.length-1],s=h?h.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!s.length)throw new Error(p);s.pop(),t=t.substring(3)}return s.push(t),s.join(".")}return h?h+t:t.substring(1)}r=t.split("."),i=r.pop(),u=r.length?"."+r.join("."):"",n=n.concat();while(n.length){o=n.pop(),a=o+u,f=e.get(a);if(l=e._wrapped[a])f=l.get();if(typeof f=="object"&&f!==null&&f.hasOwnProperty(i)){c=o+"."+t;break}}return!
c&&e.get(t)!==undefined&&(c=t),c},e}(),E=function(e){var t=Array.prototype.push;return function(n){var r,i,s;while(r=n._pendingResolution.pop())i=e(n,r.ref,r.contextStack),i!==undefined?r.resolve(i):(s||(s=[])).push(r);s&&t.apply(n._pendingResolution,s)}}(w),S=function(e,t){return function(n){e(n),t(n)}}(c,h),x=function(){return function(e,t,n){var r,i,s,o,u,a,f;r=t.split("."),i=[],(s=e._wrapped[""])?(s.set&&s.set(r.join("."),n),o=s.get()):o=e.data;while(r.length>1)u=i[i.length]=r.shift(),a=i.join("."),(s=e._wrapped[a])?(s.set&&s.set(r.join("."),n),o=s.get()):(o[u]||(f||(f=a),o[u]=/^\s*[0-9]+\s*$/.test(r[0])?[]:{}),o=o[u]);return u=r[0],o[u]=n,f}}(),T=function(e,t,n,r,i,s,o,u,a){var f,l,c,h;return f=function(t,r,a){var f,h,p,d,v,m,g;h=[],e(t)&&(f=t,a=r);if(f)for(t in f)f.hasOwnProperty(t)&&(r=f[t],t=n(t),l(this,t,r,h));else t=n(t),l(this,t,r,h);if(!h.length)return;d=this._transitionManager,this._transitionManager=v=o(this,a),p=c(h),p.length&&i.multiple(this,p,!0),i.multiple(this,h),this
._pendingResolution.length&&s(this),u(this),this._transitionManager=d,v.ready();if(!this.firingChangeEvent){this.firingChangeEvent=!0,g={},m=h.length;while(m--)g[h[m]]=this.get(h[m]);this.fire("change",g),this.firingChangeEvent=!1}return this},l=function(e,t,n,i){var s,o,u,f;if((u=e._wrapped[t])&&u.reset&&h(e,t,n,u,i)!==!1)return;s=e._cache[t],o=e.get(t);if(o!==n)f=a(e,t,n);else if(n===s&&typeof n!="object")return;r(e,f||t),i[i.length]=t},c=function(e){var t=[""],n,r,i,s;n=e.length;while(n--){r=e[n],i=r.split(".");while(i.length>1)i.pop(),s=i.join("."),t[s]||(t[t.length]=s,t[s]=!0)}return t},h=function(e,n,i,s,o){var u,a,f,l;u=s.get();if(!t(u,i)&&s.reset(i)===!1)return!1;i=s.get(),a=e._cache[n];if(!t(a,i)){e._cache[n]=i,f=e._cacheMap[n];if(f){l=f.length;while(l--)r(e,f[l])}o[o.length]=n}},f}(y,b,s,f,d,E,p,S,x),N=function(e,t,n,r,i){return function(s,o){var u,a;return typeof s=="function"&&(o=s,s=""),a=this._transitionManager,this._transitionManager=u=e(this,o),t(this),n(this,s||""),r(this
,s||""),i(this),this._transitionManager=a,u.ready(),typeof s=="string"?this.fire("update",s):this.fire("update"),this}}(p,E,f,d,S),C=function(e){return function(t,n){var r;if(!e(t)||!e(n))return!1;if(t.length!==n.length)return!1;r=t.length;while(r--)if(t[r]!==n[r])return!1;return!0}}(a),k=function(e,t,n){function r(e,i,s,o,u){var a,f,l,c,h,p;a=e._twowayBindings[i];if(a){l=a.length;while(l--){c=a[l];if(c.radioName&&!c.node.checked)continue;if(c.checkboxName){c.changed()&&!o[i]&&(o[i]=!0,o[o.length]=i);continue}h=c.attr.value,p=c.value();if(t(h,p))continue;n(h,p)||(s[i]=p)}}if(!u)return;f=e._depsMap[i];if(f){l=f.length;while(l--)r(e,f[l],s,o,u)}}return function(t,n){var i,s,o;typeof t!="string"&&(t="",n=!0),r(this,t,i={},s=[],n);if(o=s.length)while(o--)t=s[o],i[t]=e(this,t);this.set(i)}}(l,C,b),L=function(){if(typeof window=="undefined")return;return function(e,t,n){var r,i;if(n.requestAnimationFrame)return;for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"
];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-t)),s=i(function(){e(n+r)},r),t=n+r,s})}(["ms","moz","webkit","o"],0,window),window.requestAnimationFrame}(),A=function(e){var t=[],n={tick:function(){var r,i;for(r=0;r<t.length;r+=1)i=t[r],i.tick()||t.splice(r--,1);t.length?e(n.tick):n.running=!1},add:function(e){t[t.length]=e,n.running||(n.running=!0,n.tick())},abort:function(e,n){var r=t.length,i;while(r--)i=t[r],i.root===n&&i.keypath===e&&i.stop()}};return n}(L),O=function(){return typeof console!="undefined"&&typeof console.warn=="function"&&typeof console.warn.apply=="function"?function(){console.warn.apply(console,arguments)}:function(){}}(),M=function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}(),_=function(e,t,n){function i(e,t){var n=t-e;return n?function(t){return e+t*n}:function(){return e}}function s(e,t){var n,i,s,o;n=[],i=[],o=s=Math.min(e.length,t.length);while(o--)i[o]=r(e[o
],t[o]);for(o=s;o<e.length;o+=1)n[o]=e[o];for(o=s;o<t.length;o+=1)n[o]=t[o];return function(e){var t=s;while(t--)n[t]=i[t](e);return n}}function o(e,t){var n=[],i,s,o,u;o={},s={};for(u in e)e.hasOwnProperty(u)&&(t.hasOwnProperty(u)?(n[n.length]=u,s[u]=r(e[u],t[u])):o[u]=e[u]);for(u in t)t.hasOwnProperty(u)&&!e.hasOwnProperty(u)&&(o[u]=t[u]);return i=n.length,function(e){var t=i,r;while(t--)r=n[t],o[r]=s[r](e);return o}}var r=function(r,u){return n(r)&&n(u)?i(+r,+u):e(r)&&e(u)?s(r,u):t(r)&&t(u)?o(r,u):function(){return u}};return r}(a,y,M),D=function(e,t){var n=function(e){var n;this.startTime=Date.now();for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);this.interpolator=t(this.from,this.to),this.running=!0};return n.prototype={tick:function(){var t,n,r,i,s,o;return o=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(o!==null&&this.root.set(o,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),s=this.root._animations.indexOf(this),s===-1&&
e("Animation was not found"),this.root._animations.splice(s,1),this.running=!1,!1):(n=this.easing?this.easing(t/this.duration):t/this.duration,o!==null&&(r=this.interpolator(n),this.root.set(o,r)),this.step&&this.step(n,r),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),t===-1&&e("Animation was not found"),this.root._animations.splice(t,1)}},n}(O,_),P=function(){return{linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}}}(),H=function(e,t,n,r){function s(s,o,u,a){var f,l,c,h;return o!==null&&(h=s.get(o)),t.abort(o,s),e(h,u)?(a.complete&&a.complete(1,a.to),i):(a.easing&&(typeof a.easing=="function"?f=a.easing:s.easing&&s.easing[a.easing]?f=s.easing[a.easing]:f=r[a.easing],typeof f!="function"&&(f=null)),l=a.duration===undefined?400:a.duration,c=new n({keypath:o,from:h,to:u,root:s,duration:l,easing:f,step:a.step
,complete:a.complete}),t.add(c),s._animations[s._animations.length]=c,c)}var i={stop:function(){}};return function(e,t,n){var r,i,o,u,a,f,l,c,h,p,d,v;if(typeof e=="object"){n=t||{},u=n.easing,a=n.duration,o=[],f=n.step,l=n.complete;if(f||l)h={},n.step=null,n.complete=null,c=function(e){return function(t,n){h[e]=n}};for(r in e)if(e.hasOwnProperty(r)){if(f||l)p=c(r),n={easing:u,duration:a},f&&(n.step=p),l&&(n.complete=p);o[o.length]=s(this,r,e[r],n)}if(f||l)v={easing:u,duration:a},f&&(v.step=function(e){f(e,h)}),l&&(v.complete=function(e){l(e,h)}),o[o.length]=d=s(this,null,null,v);return{stop:function(){while(o.length)o.pop().stop();d&&d.stop()}}}return n=n||{},i=s(this,e,t,n),{stop:function(){i.stop()}}}}(b,A,D,P),B=function(){return function(e,t){var n=this,r,i;if(typeof e=="object"){r=[];for(i in e)e.hasOwnProperty(i)&&(r[r.length]=this.on(i,e[i]));return{cancel:function(){while(r.length)r.pop().cancel()}}}return this._subs[e]?this._subs[e].push(t):this._subs[e]=[t],{cancel:function(){
n.off(e,t)}}}}(),j=function(){return function(e,t){var n,r;t||(e?this._subs[e]=[]:this._subs={}),n=this._subs[e],n&&(r=n.indexOf(t),r!==-1&&n.splice(r,1))}}(),F=function(){return function(e){var t,n,r,i,s,o,u,a;o=e.root,u=e.keypath,a=e.priority,t=o._deps[a]||(o._deps[a]={}),n=t[u]||(t[u]=[]),n[n.length]=e,r=u.split(".");while(r.length)r.pop(),i=r.join("."),s=o._depsMap[i]||(o._depsMap[i]=[]),s[u]===undefined&&(s[u]=0,s[s.length]=u),s[u]+=1,u=i}}(),I=function(){return function(e){var t,n,r,i,s,o,u,a;o=e.root,u=e.keypath,a=e.priority,t=o._deps[a][u],n=t.indexOf(e);if(n===-1)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");t.splice(n,1),r=u.split(".");while(r.length)r.pop(),i=r.join("."),s=o._depsMap[i],s[u]-=1,s[u]||(s.splice(s.indexOf(u),1),s[u]=undefined),u=i}}(),q=function(e){var t=function(e,t,n,r){var i=this;this
.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.proxy={update:function(){i.reallyUpdate()}},this.priority=0,this.context=r&&r.context?r.context:e};return t.prototype={init:function(e){e!==!1?this.update():this.value=this.root.get(this.keypath)},update:function(){if(this.defer&&this.ready){this.root._deferred.observers.push(this.proxy);return}this.reallyUpdate()},reallyUpdate:function(){var t,n;t=this.value,n=this.root.get(this.keypath),this.value=n;if(this.updating)return;this.updating=!0;if(!e(n,t)||!this.ready)try{this.callback.call(this.context,n,t,this.keypath)}catch(r){if(this.debug||this.root.debug)throw r}this.updating=!1}},t}(b),R=function(){return function(e,t){var n,r,i,s,o,u,a;n=t.split("."),s=[],u=function(t){var n,r;n=e._wrapped[t]?e._wrapped[t].get():e.get(t);for(r in n)o.push(t+"."+r)},a=function(e){return e+"."+r};while(r=n.shift())r==="*"?(o=[],s.forEach(u),s=o):s[0]?s=s.map(a):s[0]=r;return i={},s.forEach(function(t){i[t]=e.get(t)}),i}
}(),U=function(e,t){var n,r=/\*/;return n=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.keypath=t,this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:e},n.prototype={init:function(e){var n,r;n=t(this.root,this.keypath);if(e!==!1)for(r in n)n.hasOwnProperty(r)&&this.update(r);else this.values=n},update:function(e){var n;if(r.test(e)){n=t(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(e);return}if(this.defer&&this.ready){this.root._deferred.observers.push(this.getProxy(e));return}this.reallyUpdate(e)},reallyUpdate:function(t){var n=this.root.get(t);if(this.updating){this.values[t]=n;return}this.updating=!0;if(!e(n,this.values[t])||!this.ready){try{this.callback.call(this.context,n,this.values[t],t)}catch(r){if(this.debug||this.root.debug)throw r}this.values[t]=n}this.updating=!1},getProxy:function(e){var t=
this;return this.proxies[e]||(this.proxies[e]={update:function(){t.reallyUpdate(e)}}),this.proxies[e]}},n}(b,R),z=function(e,t,n,r,i){var s=/\*/,o={};return function(a,f,l,c){var h,p;return f=e(f),c=c||o,s.test(f)?(h=new i(a,f,l,c),a._patternObservers.push(h),p=!0):h=new r(a,f,l,c),t(h),h.init(c.init),h.ready=!0,{cancel:function(){var e;p&&(e=a._patternObservers.indexOf(h),e!==-1&&a._patternObservers.splice(e,1)),n(h)}}}}(s,F,I,q,U),W=function(e,t){return function(r,i,s){var o=[],u;if(e(r)){s=i;for(u in r)r.hasOwnProperty(u)&&(i=r[u],o[o.length]=t(this,u,i,s));return{cancel:function(){while(o.length)o.pop().cancel()}}}return t(this,r,i,s)}}(y,z),X=function(){return function(e){var t,n,r,i=this._subs[e];if(!i)return;t=Array.prototype.slice.call(arguments,1);for(n=0,r=i.length;n<r;n+=1)i[n].apply(this,t)}}(),V=function(){return function(e){return this.el?this.fragment.find(e):null}}(),$=function(e){var t,n,r,i,s,o,u,a;if(!e)return;t=document.createElement("div"),n=["matches","matchesSelector"
],s=["o","ms","moz","webkit"],a=function(e){return function(t,n){return t[e](n)}},o=n.length;while(o--){r=n[o];if(t[r])return a(r);u=s.length;while(u--){i=s[o]+r.substr(0,1).toUpperCase()+r.substring(1);if(t[i])return a(i)}}return function(e,t){var n,r;n=(e.parentNode||e.document).querySelectorAll(t),r=n.length;while(r--)if(n[r]===e)return!0;return!1}}(n),J=function(e,t,n){var r,i,s,o,u,a,f;return r=function(e,t,r){var f;return f=[],n(f,{selector:{value:t},live:{value:r},_test:{value:u}}),r?(n(f,{cancel:{value:i},_root:{value:e},_sort:{value:s},_dirty:{value:!1,writable:!0},_makeDirty:{value:o},_remove:{value:a}}),f):f},i=function(){var e,t,n;e=this._root.liveQueries,t=this.selector,n=e.indexOf(t),n!==-1&&(e.splice(n,1),e[t]=null)},o=function(){this._dirty||(this._root._deferred.liveQueries.push(this),this._dirty=!0)},s=function(){this.sort(f),this._dirty=!1},f=function(e,t){var n=e.compareDocumentPosition(t);return n&2?1:-1},u=function(e,n){if(t(e,this.selector))return this.push(e),n||
this._makeDirty(),!0},a=function(e){var t=this.indexOf(e);t!==-1&&this.splice(t,1)},function(e,t){var n,i;return this.el?(t=t||{},n=this._liveQueries,(i=n[e])?t&&t.live?i:i.slice():(i=r(this,e,!!t.live),i.live&&(this._liveQueries.push(e),this._liveQueries[e]=i),this.fragment.findAll(e,i),i)):[]}}(O,$,i),K=function(){return function(e){var t;if(typeof window=="undefined"||!document||!e)return null;if(e.nodeType)return e;if(typeof e=="string"){t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e));if(t&&t.nodeType)return t}return e[0]&&e[0].nodeType?e[0]:null}}(),Q=function(e,t){return function(n,r){var i,s,o,u,a;n.owner=r.owner,o=n.owner.parentFragment,n.root=r.root,n.pNode=r.pNode,n.contextStack=r.contextStack||[],n.owner.type===e.SECTION&&(n.index=r.index);if(o){u=o.indexRefs;if(u){n.indexRefs=t(null);for(a in u)n.indexRefs[a]=u[a]}}n.priority=o?o.priority+1:1,r.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[r.indexRef]=r.index),n.items=[],i=r.descriptor?
r.descriptor.length:0;for(s=0;s<i;s+=1)n.items[n.items.length]=n.createItem({parentFragment:n,descriptor:r.descriptor[s],index:s})}}(u,t),G=function(){var e={};return function(t,n,r){var i,s=[];i=e[n]||(e[n]=document.createElement(n)),i.innerHTML=t;while(i.firstChild)s[s.length]=i.firstChild,r.appendChild(i.firstChild);return s}}(),Y=function(e){var t,n,r;return n=/</g,r=/>/g,t=function(t,n){this.type=e.TEXT,this.descriptor=t.descriptor,n&&(this.node=document.createTextNode(t.descriptor),this.pNode=t.parentFragment.pNode,n.appendChild(this.node))},t.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(e){e&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(n,"&lt;").replace(r,"&gt;")}},t}(u),Z=function(e){return function(t){if(!t.keypath){var n=t.root._pendingResolution.indexOf(t);n!==-1&&t.root._pendingResolution.splice(n,1)}else e(t)}}(I),et=function(e,t,n,r,i){function u
(e,t,r){var i;if(!o.test(e.toString()))return n(e,"_nowrap",{value:!0}),e;n(e,"_"+t._guid,{value:function(){var n,i,s;return n=t.get,t.get=function(e){return s||(s=[]),s[e]||(s[s.length]=e,s[e]=!0),n.call(t,e)},i=e.apply(t,arguments),s&&r.updateSoftDependencies(s),t.get=n,i},writable:!0});for(i in e)e.hasOwnProperty(i)&&(e["_"+t._guid][i]=e[i]);return e["_"+t._guid]}var s,o;return o=/this/,s=function(t,n,i,s,o){var a;this.evaluator=i,this.keypath=n,this.root=t,this.argNum=s,this.type=e.REFERENCE,this.priority=o,a=t.get(n),typeof a=="function"&&(a=a._wrapped||u(a,t,i)),this.value=i.values[s]=a,r(this)},s.prototype={update:function(){var e=this.root.get(this.keypath);typeof e=="function"&&!e._nowrap&&(e=e["_"+this.root._guid]||u(e,this.root,this.evaluator)),t(e,this.value)||(this.evaluator.values[this.argNum]=e,this.evaluator.bubble(),this.value=e)},teardown:function(){i(this)}},s}(u,b,r,F,I),tt=function(e,t,n){var r=function(e,n,r){this.root=e,this.keypath=n,this.priority=r.priority,this
.evaluator=r,t(this)};return r.prototype={update:function(){var t=this.root.get(this.keypath);e(t,this.value)||(this.evaluator.bubble(),this.value=t)},teardown:function(){n(this)}},r}(b,F,I),nt=function(e,t,n,r,i,s,o,u){function l(e,t){var n,r;e=e.replace(/\$\{([0-9]+)\}/g,"_$1");if(f[e])return f[e];r=[];while(t--)r[t]="_"+t;return n=new Function(r.join(","),"return("+e+")"),f[e]=n,n}var a,f={};return a=function(e,t,n,r,i){var s,u;this.root=e,this.keypath=t,this.priority=i,this.fn=l(n,r.length),this.values=[],this.refs=[],s=r.length;while(s--)(u=r[s])?u[0]?this.values[s]=u[1]:this.refs[this.refs.length]=new o(e,u[1],this,s,i):this.values[s]=undefined;this.selfUpdating=this.refs.length<=1,this.update()},a.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(this.root._deferred.evals.push(this),this.deferred=!0)},update:function(){var t;if(this.evaluating)return this;this.evaluating=!0;try{t=this.fn.apply(null,this.values)}catch(i){if(this.root.debug)throw i;t=undefined
}return e(t,this.value)||(n(this.root,this.keypath),this.root._cache[this.keypath]=t,r(this.root,this.keypath),this.value=t),this.evaluating=!1,this},teardown:function(){while(this.refs.length)this.refs.pop().teardown();n(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);var e=this.refs.length;while(e--)this.refs[e].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(e){var t,n,r;this.softRefs||(this.softRefs=[]),t=this.softRefs.length;while(t--)r=this.softRefs[t],e[r.keypath]||(this.softRefs.splice(t,1),this.softRefs[r.keypath]=!1,r.teardown());t=e.length;while(t--)n=e[t],this.softRefs[n]||(r=new u(this.root,n,this),this.softRefs[this.softRefs.length]=r,this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},a}(b,r,f,d,F,I,et,tt),rt=function(e,t,n){var r,i,s;return r=function(e){var t,n,r,s,o;this.root=e.root,this.mustache=e,this.args=[],this.scouts=[
],t=e.descriptor.x,o=e.parentFragment.indexRefs,this.str=t.s,r=this.unresolved=this.args.length=t.r?t.r.length:0;if(!r){this.resolved=this.ready=!0,this.bubble();return}for(n=0;n<r;n+=1)s=t.r[n],o&&o[s]!==undefined?this.resolveRef(n,!0,o[s]):this.scouts[this.scouts.length]=new i(this,s,e.contextStack,n);this.ready=!0,this.bubble()},r.prototype={bubble:function(){if(!this.ready)return;this.keypath=s(this.str,this.args),this.createEvaluator(),this.mustache.resolve(this.keypath)},teardown:function(){while(this.scouts.length)this.scouts.pop().teardown()},resolveRef:function(e,t,n){this.args[e]=[t,n],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new n(this.root,this.keypath,this.str,this.args,this.mustache.priority)}},i=function(t,n,r,i){var s,o;o=this.root=t.root,s=e(o,n,r),s?t.resolveRef(i,!1,s):(this.ref=n,this.argNum=i,this.resolver=t,this.contextStack=
r,o._pendingResolution[o._pendingResolution.length]=this)},i.prototype={resolve:function(e){this.keypath=e,this.resolver.resolveRef(this.argNum,!1,e)},teardown:function(){this.keypath||t(this)}},s=function(e,t){var n;return n=e.replace(/\$\{([0-9]+)\}/g,function(e,n){return t[n]?t[n][1]:"undefined"}),"("+n.replace(/[\.\[\]]/g,"-")+")"},r}(w,Z,nt),it=function(e,t){return function(n,r){var i,s,o;o=n.parentFragment=r.parentFragment,n.root=o.root,n.contextStack=o.contextStack,n.descriptor=r.descriptor,n.index=r.index||0,n.priority=o.priority,o.pNode&&(n.pNode=o.pNode),n.type=r.descriptor.t,r.descriptor.r&&(o.indexRefs&&o.indexRefs[r.descriptor.r]!==undefined?(s=o.indexRefs[r.descriptor.r],n.indexRef=r.descriptor.r,n.value=s,n.render(n.value)):(i=e(n.root,r.descriptor.r,n.contextStack),i?n.resolve(i):(n.ref=r.descriptor.r,n.root._pendingResolution[n.root._pendingResolution.length]=n))),r.descriptor.x&&(n.expressionResolver=new t(n)),n.descriptor.n&&!n.hasOwnProperty("value")&&n.render(undefined
)}}(w,rt),st=function(e,t){return function(n){if(n===this.keypath)return;this.resolved&&t(this),this.keypath=n,e(this),this.update(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null),this.resolved=!0}}(F,I),ot=function(e){return function(){var t=this.root.get(this.keypath,!0);e(t,this.value)||(this.render(t),this.value=t)}}(b),ut=function(e,t,n,r,i){var s,o,u;return o=/</g,u=/>/g,s=function(t,r){this.type=e.INTERPOLATOR,r&&(this.node=document.createTextNode(""),r.appendChild(this.node)),n(this,t)},s.prototype={update:i,resolve:r,detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(e){e&&this.detach(),t(this)},render:function(e){this.node&&(this.node.data=e===undefined?"":e)},firstNode:function(){return this.node},toString:function(){var e=this.value!=undefined?""+this.value:"";return e.replace(o,"&lt;").replace(u,"&gt;")}},s}(u,Z,it,st,ot),at=function(e,t,n){function r(e,t,n){var r,i,s;i=t.length;if(i<e
.length){s=e.fragments.splice(i,e.length-i);while(s.length)s.pop().teardown(!0)}else if(i>e.length)for(r=e.length;r<i;r+=1)n.contextStack=e.contextStack.concat(e.keypath+"."+r),n.index=r,e.descriptor.i&&(n.indexRef=e.descriptor.i),e.fragments[r]=e.createFragment(n);e.length=i}function i(e,t,r){var i,s;s=e.fragmentsById||(e.fragmentsById=n(null));for(i in s)t[i]===undefined&&s[i]&&(s[i].teardown(!0),s[i]=null);for(i in t)t[i]!==undefined&&!s[i]&&(r.contextStack=e.contextStack.concat(e.keypath+"."+i),r.index=i,e.descriptor.i&&(r.indexRef=e.descriptor.i),s[i]=e.createFragment(r))}function s(e,t){e.length||(t.contextStack=e.contextStack.concat(e.keypath),t.index=0,e.fragments[0]=e.createFragment(t),e.length=1)}function o(t,n,r,i){var s,o,u,a;o=e(n)&&n.length===0,r?s=o||!n:s=n&&!o;if(s){t.length||(i.contextStack=t.contextStack,i.index=0,t.fragments[0]=t.createFragment(i),t.length=1);if(t.length>1){u=t.fragments.splice(1);while(a=u.pop())a.teardown(!0)}}else t.length&&(t.teardownFragments(!0)
,t.length=0)}return function(n,u){var a;a={descriptor:n.descriptor.f,root:n.root,pNode:n.pNode,owner:n};if(n.descriptor.n){o(n,u,!0,a);return}e(u)?r(n,u,a):t(u)?n.descriptor.i?i(n,u,a):s(n,a):o(n,u,!1,a)}}(a,y,t),ft=function(e,t,n){function r(t,n,o,u,a,f,l){var c,h,p;if(t.html)return;t.indexRefs&&t.indexRefs[n]!==undefined&&(t.indexRefs[n]=u),c=t.contextStack.length;while(c--)p=t.contextStack[c],p.substr(0,f.length)===f&&(t.contextStack[c]=p.replace(f,l));c=t.items.length;while(c--){h=t.items[c];switch(h.type){case e.ELEMENT:i(h,n,o,u,a,f,l);break;case e.PARTIAL:r(h.fragment,n,o,u,a,f,l);break;case e.SECTION:case e.INTERPOLATOR:case e.TRIPLE:s(h,n,o,u,a,f,l)}}}function i(e,t,n,i,s,o,u){var a,f,l,c,h,p,d,v,m,g;a=e.attributes.length;while(a--)f=e.attributes[a],f.fragment&&(r(f.fragment,t,n,i,s,o,u),f.twoway&&f.updateBindings());if(l=e.node._ractive){l.keypath.substr(0,o.length)===o&&(l.keypath=l.keypath.replace(o,u)),t!==undefined&&(l.index[t]=i);for(c in l.events){h=l.events[c].proxies,a=
h.length;while(a--)p=h[a],typeof p.n=="object"&&r(p.a,t,n,i,s,o,u),p.d&&r(p.d,t,n,i,s,o,u)}(d=l.binding)&&d.keypath.substr(0,o.length)===o&&(v=l.root._twowayBindings[d.keypath],v.splice(v.indexOf(d),1),d.keypath=d.keypath.replace(o,u),v=l.root._twowayBindings[d.keypath]||(l.root._twowayBindings[d.keypath]=[]),v.push(d))}e.fragment&&r(e.fragment,t,n,i,s,o,u);if(m=e.liveQueries){g=e.root,a=m.length;while(a--)g._liveQueries[m[a]]._makeDirty()}}function s(e,t,i,s,o,u,a){var f;e.descriptor.x&&(e.expressionResolver&&e.expressionResolver.teardown(),e.expressionResolver=new n(e)),e.keypath?e.keypath.substr(0,u.length)===u&&e.resolve(e.keypath.replace(u,a)):e.indexRef===t&&(e.value=s,e.render(s));if(e.fragments){f=e.fragments.length;while(f--)r(e.fragments[f],t,i,s,o,u,a)}}return r}(u,I,rt),lt=function(e,t,n){return function(e,r,i,s,o){var u,a,f,l,c,h,p;f=r.descriptor.i;for(u=i;u<s;u+=1)a=r.fragments[u],l=u-o,c=u,h=r.keypath+"."+(u-o),p=r.keypath+"."+u,a.index+=o,t(a,f,l,c,o,h,p);n(e)}}(u,ft,c),
ct=function(e){return function(t){var n=this,r,i,s,o,u,a,f,l,c;u=[],t.forEach(function(t,s){var o,f,l;if(t===s){u[t]=n.fragments[s];return}r===undefined&&(r=s);if(t===-1){(a||(a=[])).push(n.fragments[s]);return}o=t-s,f=n.keypath+"."+s,l=n.keypath+"."+t,e(n.fragments[s],n.descriptor.i,s,t,o,f,l),u[t]=n.fragments[s],i=!0});if(a)while(l=a.pop())l.teardown(!0);r===undefined&&(r=this.length),o=this.root.get(this.keypath).length;if(o===r)return;f={descriptor:this.descriptor.f,root:this.root,pNode:this.pNode,owner:this},this.descriptor.i&&(f.indexRef=this.descriptor.i);for(s=r;s<o;s+=1)(l=u[s])?this.docFrag.appendChild(l.detach(!1)):(f.contextStack=this.contextStack.concat(this.keypath+"."+s),f.index=s,l=this.createFragment(f)),this.fragments[s]=l;c=this.parentFragment.findNextNode(this),this.pNode.insertBefore(this.docFrag,c),this.length=o}}(ft),ht=function(){return[]}(),pt=function(e,t,n,r,i,s,o,u,a,f,l){var c,h;return l.push(function(){h=l.DomFragment}),c=function(t,r){this.type=e.SECTION,this
.inverted=!!t.descriptor.n,this.fragments=[],this.length=0,r&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,n(this,t),r&&r.appendChild(this.docFrag),this.initialising=!1},c.prototype={update:r,resolve:i,smartUpdate:function(e,t){var n;if(e==="push"||e==="unshift"||e==="splice")n={descriptor:this.descriptor.f,root:this.root,pNode:this.pNode,owner:this},this.descriptor.i&&(n.indexRef=this.descriptor.i);this[e]&&this[e](n,t)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(e,t){var n,r,i;n=this.length,r=n+t.length;for(i=n;i<r;i+=1)e.contextStack=this.contextStack.concat(this.keypath+"."+i),e.index=i,this.fragments[i]=this.createFragment(e);this.length+=t.length,this.pNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(e,t){this.splice(e,[0,0].concat(new Array(t.length)))},splice:function(e,t){var n,r,i,s,o,a,f,l,c;if(!t.length)return;a=+(t[0]<0?
this.length+t[0]:t[0]),r=Math.max(0,t.length-2),i=t[1]!==undefined?t[1]:this.length-a,i=Math.min(i,this.length-a),s=r-i;if(!s)return;if(s<0){f=a-s;for(o=a;o<f;o+=1)this.fragments[o].teardown(!0);this.fragments.splice(a,-s)}else{f=a+s,n=this.fragments[a]?this.fragments[a].firstNode():this.parentFragment.findNextNode(this),l=[a,0].concat(new Array(s)),this.fragments.splice.apply(this.fragments,l);for(o=a;o<f;o+=1)e.contextStack=this.contextStack.concat(this.keypath+"."+o),e.index=o,this.fragments[o]=this.createFragment(e);this.pNode.insertBefore(this.docFrag,n)}this.length+=s,c=a+r,u(this.root,this,c,this.length,s)},merge:a,detach:function(){var e,t;t=this.fragments.length;for(e=0;e<t;e+=1)this.docFrag.appendChild(this.fragments[e].detach());return this.docFrag},teardown:function(e){this.teardownFragments(e),f(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(e){return this.fragments[e.index+1]?
this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(e){var t;while(this.fragments.length)this.fragments.shift().teardown(e);if(this.fragmentsById)for(t in this.fragmentsById)this.fragments[t]&&(this.fragmentsById[t].teardown(e),this.fragmentsById[t]=null)},render:function(e){var n,r;if(r=this.root._wrapped[this.keypath])e=r.get();if(this.rendering)return;this.rendering=!0,s(this,e),this.rendering=!1;if(this.docFrag&&!this.docFrag.childNodes.length)return;!this.initialising&&t&&(n=this.parentFragment.findNextNode(this),n&&n.parentNode===this.pNode?this.pNode.insertBefore(this.docFrag,n):this.pNode.appendChild(this.docFrag))},createFragment:function(e){var t=new h(e);return this.docFrag&&this.docFrag.appendChild(t.docFrag),t},toString:function(){var e,t,n,r;e="",t=0,r=this.length;for(t=0;t<r;t+=1)e+=this.fragments[t].toString();if(this.fragmentsById)for(n in this.fragmentsById)this.fragmentsById[n]&&(e+=this.fragmentsById[n].toString())
;return e},find:function(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1)if(r=this.fragments[t].find(e))return r;return null},findAll:function(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1)this.fragments[n].findAll(e,t)}},c}(u,n,it,ot,st,at,ft,lt,ct,Z,ht),dt=function(e,t,n,r,i,s,o){var u=function(t,r){this.type=e.TRIPLE,r&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n(this,t),r&&r.appendChild(this.docFrag),this.initialising=!1};return u.prototype={update:r,resolve:i,detach:function(){while(this.nodes.length)this.docFrag.appendChild(this.nodes.pop());return this.docFrag},teardown:function(e){e&&(this.detach(),this.docFrag=this.nodes=null),o(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(e){var t;if(!this.nodes)return;while(this.nodes.length)t=this.nodes.pop(),t.parentNode.removeChild(t);if(e===undefined){this.nodes=[];return}this.nodes=s(e,this.pNode.tagName,this.
docFrag),this.initialising||this.pNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},toString:function(){return this.value!==undefined?this.value:""},find:function(e){var n,r,i,s;r=this.nodes.length;for(n=0;n<r;n+=1){i=this.nodes[n];if(i.nodeType!==1)continue;if(t(i,e))return i;if(s=i.querySelector(e))return s}return null},findAll:function(e,n){var r,i,s,o,u,a;i=this.nodes.length;for(r=0;r<i;r+=1){s=this.nodes[r];if(s.nodeType!==1)continue;t(s,e)&&n.push(s);if(o=s.querySelectorAll(e)){u=o.length;for(a=0;a<u;a+=1)n.push(o[a])}}}},u}(u,$,it,ot,st,G,Z),vt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=function(e){return function(t,n){return t.a&&t.a.xmlns?t.a.xmlns:t.e==="svg"?e.svg:n.namespaceURI||e.html}}(vt),gt=function(){var e,t,n,r;return e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern"
.split(" "),t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(e){var t={},n=e.length;while(n--)t[e[n].toLowerCase()]=e[n];return t},r=n(e.concat(t)),function(e){var t=e.toLowerCase();return r[t]||t}}(),yt=function(
e,t){return function(n,r){var i,s;i=r.indexOf(":");if(i!==-1){s=r.substr(0,i);if(s!=="xmlns"){r=r.substring(i+1),n.name=t(r),n.lcName=n.name.toLowerCase(),n.namespace=e[s.toLowerCase()];if(!n.namespace)throw'Unknown namespace ("'+s+'")';return}}n.name=n.element.namespace!==e.html?t(r):r,n.lcName=n.name.toLowerCase()}}(vt,gt),bt=function(e){return function(t,n){var r,i=n.value===null?"":n.value;if(r=n.pNode)t.namespace?r.setAttributeNS(t.namespace,n.name,i):n.name==="style"&&r.style.setAttribute?r.style.setAttribute("cssText",i):n.name!=="class"||!!r.namespaceURI&&r.namespaceURI!==e.html?r.setAttribute(n.name,i):r.className=i,t.name==="id"&&(n.root.nodes[n.value]=r),t.name==="value"&&(r._ractive.value=n.value);t.value=n.value}}(vt),wt=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv"
,ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;if(n.pNode&&!n.namespace&&(!r.pNode.namespaceURI||r.pNode.namespaceURI===e.html)){i=t[n.name]||n.name,r.pNode[i]!==undefined&&(n.propertyName=i);if(typeof r.pNode[i]=="boolean"||i==="value")n.useProperty=!0}}}(vt),Et=function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y;return s=function(){var e=this.pNode,t,n,r;return this.fragment?(t=o(this),t?(this.interpolator=t,this.keypath=t.keypath||t.descriptor.r,n=f(this),n?(e._ractive.binding=n,this.twoway=!0,r=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),r[r.length]=n,!0):!1):!1):!1},u=function(){this._ractive.binding.update()},a=function(){var e=this._ractive.root.get(this._ractive.binding.keypath);this.value=e==undefined?"":e},o=function(t){var n;if(t.fragment.items.length!==1)return null;n=t.fragment.items[0];if(n.type!==e.
INTERPOLATOR)return null;if(!n.keypath&&!n.ref)return null;if(n.descriptor.x){if(t.root.debug)throw new Error("You cannot set up two-way binding against an expression");return null}return n},f=function(e){var n=e.pNode;if(n.tagName==="SELECT")return n.multiple?new c(e,n):new h(e,n);if(n.type==="checkbox"||n.type==="radio"){if(e.propertyName==="name"){if(n.type==="checkbox")return new d(e,n);if(n.type==="radio")return new p(e,n)}return e.propertyName==="checked"?new v(e,n):null}return e.lcName!=="value"&&t("This is... odd"),n.type==="file"?new m(e,n):n.getAttribute("contenteditable")?new g(e,n):new y(e,n)},c=function(e,t){var n;l(this,e,t),t.addEventListener("change",u,!1),n=this.root.get(this.keypath),n===undefined&&this.update()},c.prototype={value:function(){var e,t,n,r;e=[],t=this.node.options,r=t.length;for(n=0;n<r;n+=1)t[n].selected&&(e[e.length]=t[n]._ractive.value);return e},update:function(){var e,t,r;e=this.attr,t=e.value,r=this.value();if(t===undefined||!n(r,t))e.receiving=!0,
e.value=r,this.root.set(this.keypath,r),e.receiving=!1},teardown:function(){this.node.removeEventListener("change",u,!1)}},h=function(e,t){var n;l(this,e,t),t.addEventListener("change",u,!1),n=this.root.get(this.keypath),n===undefined&&this.update()},h.prototype={value:function(){var e,t,n;e=this.node.options,n=e.length;for(t=0;t<n;t+=1)if(e[t].selected)return e[t]._ractive.value},update:function(){var e=this.value();return r(e)&&(e=+e),this.attr.receiving=!0,this.attr.value=e,this.root.set(this.keypath,e),this.attr.receiving=!1,this},deferUpdate:function(){if(this.deferred===!0)return;this.root._deferred.attrs.push(this),this.deferred=!0},teardown:function(){this.node.removeEventListener("change",u,!1)}},p=function(e,t){var n;this.radioName=!0,l(this,e,t),t.name="{{"+e.keypath+"}}",t.addEventListener("change",u,!1),t.attachEvent&&t.addEventListener("click",u,!1),n=this.root.get(this.keypath),n!==undefined?t.checked=n===t._ractive.value:this.root._deferred.radios.push(this)},p.prototype=
{value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",u,!1),this.node.removeEventListener("click",u,!1)}},d=function(e,t){var n,r;this.checkboxName=!0,l(this,e,t),t.name="{{"+this.keypath+"}}",t.addEventListener("change",u,!1),t.attachEvent&&t.addEventListener("click",u,!1),n=this.root.get(this.keypath),n!==undefined?(r=n.indexOf(t._ractive.value)!==-1,t.checked=r):this.root._deferred.checkboxes.indexOf(this.keypath)===-1&&this.root._deferred.checkboxes.push(this.keypath)},d.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,i(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",u,!1),this.node
.removeEventListener("click",u,!1)}},v=function(e,t){l(this,e,t),t.addEventListener("change",u,!1),t.attachEvent&&t.addEventListener("click",u,!1)},v.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",u,!1),this.node.removeEventListener("click",u,!1)}},m=function(e,t){l(this,e,t),t.addEventListener("change",u,!1)},m.prototype={value:function(){return this.attr.pNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",u,!1)}},g=function(e,t){l(this,e,t),t.addEventListener("change",u,!1),this.root.lazy||(t.addEventListener("input",u,!1),t.attachEvent&&t.addEventListener("keyup",u,!1))},g.prototype={update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.node.innerHTML),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener
("change",u,!1),this.node.removeEventListener("input",u,!1),this.node.removeEventListener("keyup",u,!1)}},y=function(e,t){l(this,e,t),t.addEventListener("change",u,!1),this.root.lazy||(t.addEventListener("input",u,!1),t.attachEvent&&t.addEventListener("keyup",u,!1)),this.node.addEventListener("blur",a,!1)},y.prototype={value:function(){var e=this.attr.pNode.value;return+e+""===e&&e.indexOf("e")===-1&&(e=+e),e},update:function(){var e=this.attr,t=this.value();e.receiving=!0,e.root.set(e.keypath,t),e.receiving=!1},teardown:function(){this.node.removeEventListener("change",u,!1),this.node.removeEventListener("input",u,!1),this.node.removeEventListener("keyup",u,!1),this.node.removeEventListener("blur",a,!1)}},l=function(e,t,n){e.attr=t,e.node=n,e.root=t.root,e.keypath=t.keypath},s}(u,O,C,M,l),St=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p;return n=function(){var e;if(!this.ready)return this;e=this.pNode;if(e.tagName==="SELECT"&&this.lcName==="value")return this.update=i,this.deferredUpdate=s
,this.update();if(this.isFileInputValue)return this.update=r,this;if(this.twoway&&this.lcName==="name"){if(e.type==="radio")return this.update=a,this.update();if(e.type==="checkbox")return this.update=f,this.update()}return this.lcName==="style"&&e.style.setAttribute?(this.update=l,this.update()):this.lcName!=="class"||!!e.namespaceURI&&e.namespaceURI!==t.html?e.getAttribute("contenteditable")&&this.lcName==="value"?(this.update=h,this.update()):(this.update=p,this.update()):(this.update=c,this.update())},r=function(){return this},s=function(){this.deferredUpdate=this.pNode.multiple?u:o,this.deferredUpdate()},i=function(){return this.root._deferred.selectValues.push(this),this},o=function(){var e=this.fragment.getValue(),t,n,r;this.value=this.pNode._ractive.value=e,t=this.pNode.options,r=t.length;while(r--){n=t[r];if(n._ractive.value==e)return n.selected=!0,this}return this},u=function(){var t=this.fragment.getValue(),n,r;e(t)||(t=[t]),n=this.pNode.options,r=n.length;while(r--)n[r].selected=
t.indexOf(n[r]._ractive.value)!==-1;return this.value=t,this},a=function(){var e,t;return e=this.pNode,t=this.fragment.getValue(),e.checked=t===e._ractive.value,this},f=function(){var t,n;return t=this.pNode,n=this.fragment.getValue(),e(n)?(t.checked=n.indexOf(t._ractive.value)!==-1,this):(t.checked=n===t._ractive.value,this)},l=function(){var e,t;return e=this.pNode,t=this.fragment.getValue(),t===undefined&&(t=""),t!==this.value&&(e.style.setAttribute("cssText",t),this.value=t),this},c=function(){var e,t;return e=this.pNode,t=this.fragment.getValue(),t===undefined&&(t=""),t!==this.value&&(e.className=t,this.value=t),this},h=function(){var e,t;return e=this.pNode,t=this.fragment.getValue(),t===undefined&&(t=""),t!==this.value&&(this.receiving||(e.innerHTML=t),this.value=t),this},p=function(){var e,t;e=this.pNode,t=this.fragment.getValue(),this.isValueAttribute&&(e._ractive.value=t),t===undefined&&(t="");if(t!==this.value){if(this.useProperty)return this.receiving||(e[this.propertyName]=
t),this.value=t,this;if(this.namespace)return e.setAttributeNS(this.namespace,this.name,t),this.value=t,this;this.lcName==="id"&&(this.value!==undefined&&(this.root.nodes[this.value]=undefined),this.root.nodes[t]=e),e.setAttribute(this.name,t),this.value=t}return this},n}(a,vt),xt=function(){return function(e){var t;return t=this.str.substr(this.pos,e.length),t===e?(this.pos+=e.length,e):null}}(),Tt=function(){var e=/^\s+/;return function(){var t=e.exec(this.remaining());return t?(this.pos+=t[0].length,t[0]):null}}(),Nt=function(){return function(e){return function(t){var n=e.exec(t.str.substring(t.pos));return n?(t.pos+=n[0].length,n[1]||n[0]):null}}}(),Ct=function(){function e(e){var t;return e.getStringMatch("\\")?(t=e.str.charAt(e.pos),e.pos+=1,t):null}return function(t){var n="",r;r=e(t);while(r)n+=r,r=e(t);return n||null}}(),kt=function(e,t){var n=e(/^[^\\"]+/),r=e(/^[^\\']+/);return function i(e,s){var o,u,a,f,l,c;o=e.pos,u="",c=s?r:n,a=t(e),a&&(u+=a),f=c(e),f&&(u+=f);if(!u)return""
;l=i(e,s);while(l!=="")u+=l;return u}}(Nt,Ct),Lt=function(e,t){return function(n){var r,i;return r=n.pos,n.getStringMatch('"')?(i=t(n,!1),n.getStringMatch('"')?{t:e.STRING_LITERAL,v:i}:(n.pos=r,null)):n.getStringMatch("'")?(i=t(n,!0),n.getStringMatch("'")?{t:e.STRING_LITERAL,v:i}:(n.pos=r,null)):null}}(u,kt),At=function(e,t){var n=t(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(t){var r;return(r=n(t))?{t:e.NUMBER_LITERAL,v:r}:null}}(u,Nt),Ot=function(e){return e(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(Nt),Mt=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var s;if(s=e(i))return r.test(s.v)?s.v:'"'+s.v.replace(/"/g,'\\"')+'"';if(s=t(i))return s.v;if(s=n(i))return s}}(Lt,At,Ot),_t=function(e,t,n,r){function a(e){var t,n,i;return e.allowWhitespace(),t=r(e),t?(i={key:t},e.allowWhitespace(),e.getStringMatch(":")?(e.allowWhitespace(),n=e.getToken(),n?(i.value=n.v,i):null):null):null}var i,s,o,u;return s={"true":!0,"false"
:!1,"undefined":undefined,"null":null},o=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,i=function(e){this.str=e,this.pos=0,this.result=this.getToken()},i.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:e,getToken:function(){return this.allowWhitespace(),this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getSpecial:function(){var e;if(e=o.exec(this.remaining()))return this.pos+=e[0].length,{v:s[e[0]]}},getNumber:function(){var e;if(e=u.exec(this.remaining()))return this.pos+=e[0].length,{v:+e[0]}},getString:function(){return n(this)},getObject:function(){var e,t;if(!this.getStringMatch("{"))return null;e={};while(t=a(this)){e[t.key]=t.value,this.allowWhitespace();if(this.getStringMatch("}"))return{v:e};if(!this.getStringMatch(","))return null}return null},getArray:function(){var e,t;if(!this.getStringMatch("["))return null
;e=[];while(t=this.getToken()){e.push(t.v);if(this.getStringMatch("]"))return{v:e};if(!this.getStringMatch(","))return null}return null},allowWhitespace:t},function(e){var t=new i(e);return t.result}}(xt,Tt,Lt,Mt),Dt=function(e,t,n,r,i){function o(e){return typeof e=="string"?e:JSON.stringify(e)}var s=function(t){this.type=e.INTERPOLATOR,n(this,t)};return s.prototype={update:r,resolve:i,render:function(e){this.value=e,this.parentFragment.bubble()},teardown:function(){t(this)},toString:function(){return this.value===undefined?"":this.value===null?"null":o(this.value)}},s}(u,Z,it,ot,st),Pt=function(e,t,n,r,i,s,o){var u,a;return o.push(function(){a=o.StringFragment}),u=function(n){this.type=e.SECTION,this.fragments=[],this.length=0,t(this,n)},u.prototype={update:n,resolve:r,teardown:function(){this.teardownFragments(),s(this)},teardownFragments:function(){while(this.fragments.length)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment
.bubble()},render:function(e){var t;if(t=this.root._wrapped[this.keypath])e=t.get();i(this,e),this.parentFragment.bubble()},createFragment:function(e){return new a(e)},toString:function(){return this.fragments.join("")}},u}(u,it,ot,st,at,Z,ht),Ht=function(e){var t=function(t){this.type=e.TEXT,this.text=t};return t.prototype={toString:function(){return this.text},teardown:function(){}},t}(u),Bt=function(e,t,n,r,i,s,o){var u=function(e){n(this,e)};return u.prototype={createItem:function(t){if(typeof t.descriptor=="string")return new s(t.descriptor);switch(t.descriptor.t){case e.INTERPOLATOR:return new r(t);case e.TRIPLE:return new r(t);case e.SECTION:return new i(t);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.owner.bubble()},teardown:function(){var e,t;e=this.items.length;for(t=0;t<e;t+=1)this.items[t].teardown()},getValue:function(){var t;if(this.items.length===1&&this.items[0].type===e.INTERPOLATOR){t=this.items[0].value;if(t!==undefined)return t
}return this.toString()},isSimple:function(){var t,n,r;if(this.simple!==undefined)return this.simple;t=this.items.length;while(t--){n=this.items[t];if(n.type===e.TEXT)continue;if(n.type===e.INTERPOLATOR){if(r)return!1;r=!0;continue}return this.simple=!1}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var e=this.getValue(),n;return typeof e=="string"&&(n=t(e),e=n?n.v:e),e}},o.StringFragment=u,u}(u,_t,Q,Dt,Pt,Ht,ht),jt=function(e,t,n,r,i,s){var o=function(r){this.element=r.element,e(this,r.name);if(r.value===null||typeof r.value=="string"){t(this,r);return}this.root=r.root,this.pNode=r.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new s({descriptor:r.value,root:this.root,owner:this,contextStack:r.contextStack});if(!this.pNode)return;this.name==="value"&&(this.isValueAttribute=!0,this.pNode.tagName==="INPUT"&&this.pNode.type==="file"&&(this.isFileInputValue=!0)),n(this,r),this.selfUpdating=this.fragment.isSimple(),this.ready=!0
};return o.prototype={bind:r,update:i,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,this.propertyName==="name"&&(this.pNode.name="{{"+this.keypath+"}}")},teardown:function(){var e;if(this.boundEvents){e=this.boundEvents.length;while(e--)this.pNode.removeEventListener(this.boundEvents[e],this.updateModel,!1)}this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},toString:function(){var e;return this.value===null?this.name:this.fragment?(e=this.fragment.toString(),this.name+"="+JSON.stringify(e)):this.name+"="+JSON.stringify(this.value)}},o}(yt,bt,wt,Et,St,Bt),Ft=function(e){return function(t,n){var r,i,s;t.attributes=[];for(r in n)n.hasOwnProperty(r)&&(i=n[r],s=new e({element:t,name:r,value:i,root:t.root,pNode:t.node,contextStack:t.parentFragment.contextStack}),t.attributes[t.attributes.length]=t.attributes[r]=s,r!=="name"&&s.update
());return t.attributes}}(jt),It=function(e,t,n,r){var i,s,o;return r.push(function(){i=r.DomFragment}),s=function(){this.node.styleSheet.cssText=this.fragment.toString()},o=function(){(!this.node.type||this.node.type==="text/javascript")&&e("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.innerHTML=this.fragment.toString()},function(e,r,u,a){var f,l,c,h,p;if(e.lcName==="script"||e.lcName==="style"){e.fragment=new n({descriptor:u.f,root:e.root,contextStack:e.parentFragment.contextStack,owner:e}),a&&(e.lcName==="script"?(e.bubble=o,e.node.innerHTML=e.fragment.toString()):(e.bubble=s,e.bubble()));return}if(typeof u.f=="string"&&(!r||!r.namespaceURI||r.namespaceURI===t.html)){e.html=u.f;if(a){r.innerHTML=e.html,f=e.root._liveQueries,l=f.length;while(l--){c=f[l];if(h=r.querySelectorAll(c)&&(p=h.length)){(e.liveQueries||(e.liveQueries=[])).push(c),e.liveQueries[c]=[];while(p--)e.liveQueries[c][p]=h[p]}}}}else e.fragment=new i({descriptor:u.f,root:e.root,pNode
:r,contextStack:e.parentFragment.contextStack,owner:e}),a&&r.appendChild(e.fragment.docFrag)}}(O,vt,Bt,ht),qt=function(){return function(e,t){if(e.node.getAttribute("contenteditable")&&t.value&&t.value.bind())return;switch(e.descriptor.e){case"select":case"textarea":t.value&&t.value.bind();return;case"input":if(e.node.type==="radio"||e.node.type==="checkbox"){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}}}(),Rt=function(e,t){var n=function(n,r,i,s){var o,u;this.root=r,this.node=i.node,typeof n=="string"?this.name=n:(this.name=n.n,n.a?this._params=n.a:n.d&&(o=new t({descriptor:n.d,root:r,owner:i,contextStack:s}),this._params=o.toJSON(),o.teardown())),this._fn=r.decorators[this.name];if(!this._fn){u='Missing "'+n.o+'" decorator. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#decorators';if(r.debug)throw new Error(u);e(u)}};return n.prototype={init:function(){var e,t;this._params?(t=[this.node
].concat(this._params),e=this._fn.apply(this.root,t)):e=this._fn.call(this.root,this.node);if(!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.teardown=e.teardown}},n}(O,Bt),Ut=function(e){return function(t,n,r,i){r.decorator=new e(t,n,r,i),n._deferred.decorators.push(r.decorator)}}(Rt),zt=function(e,t){var n,r,i,s,o,u,a,f,l;return n=function(e,t,n,i,s){var o,u;o=e.node._ractive.events,u=o[t]||(o[t]=new r(e,t,i,s)),u.add(n)},r=function(t,n,r){var i;this.element=t,this.root=t.root,this.node=t.node,this.name=n,this.contextStack=r,this.proxies=[],(i=this.root.events[n])?this.custom=i(this.node,l(n)):("on"+n in this.node||e('Missing "'+this.name+'" event. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#events'),this.node.addEventListener(n,f,!1))},r.prototype={add:function(e){this.proxies[this.proxies.length]=new i(this.element,this.root,e,this.contextStack)},teardown:function(){var e;this.custom?
this.custom.teardown():this.node.removeEventListener(this.name,f,!1),e=this.proxies.length;while(e--)this.proxies[e].teardown()},fire:function(e){var t=this.proxies.length;while(t--)this.proxies[t].fire(e)}},i=function(e,n,r,i){var a;this.root=n,a=r.n||r,typeof a=="string"?this.n=a:this.n=new t({descriptor:r.n,root:this.root,owner:e,contextStack:i});if(r.a){this.a=r.a,this.fire=o;return}if(r.d){this.d=new t({descriptor:r.d,root:this.root,owner:e,contextStack:i}),this.fire=u;return}this.fire=s},i.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},s=function(e){this.root.fire(this.n.toString(),e)},o=function(e){this.root.fire.apply(this.root,[this.n.toString(),e].concat(this.a))},u=function(e){var t=this.d.toJSON();typeof t=="string"&&(t=t.substr(1,t.length-2)),this.root.fire.apply(this.root,[this.n.toString(),e].concat(t))},f=function(e){var t=this._ractive;t.events[e.type].fire({node:this,original:e,index:t.index,keypath:t.keypath
,context:t.root.get(t.keypath)})},a={},l=function(e){return a[e]?a[e]:a[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath,t.context=n.root.get(n.keypath),n.events[e].fire(t)}},n}(O,Bt),Wt=function(e){return function(t,n){var r,i,s;for(i in n)if(n.hasOwnProperty(i)){s=i.split("-"),r=s.length;while(r--)e(t,s[r],n[i],t.parentFragment.contextStack)}}}(zt),Xt=function(){return function(e){var t,n,r,i,s;t=e.root,n=t._liveQueries,r=n.length;while(r--)i=n[r],s=n[i],s._test(e.node)&&((e.liveQueries||(e.liveQueries=[])).push(i),e.liveQueries[i]=[e.node])}}(),Vt=function(){return function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})}}(),$t=function(e,t,n,r,i,s){function y(e){var t,n,r;if(!c[e])if(u[e]!==undefined)c[e]=e;else{r=e.charAt(0).toUpperCase()+e.substring(1),t=a.length;while(t--){n=a[t];if(u[n+r]!==undefined){c[e]=n+r;break}}}return c[e]}function b(e){return e.replace(l,"")}function w(e){var t;return f.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g
,function(e){return"-"+e.toLowerCase()}),t}var o,u,a,f,l,c,h,p,d,v,m,g;if(!e)return;return u=document.createElement("div").style,function(){u.transition!==undefined?(p="transition",g="transitionend",h=!0):u.webkitTransition!==undefined?(p="webkitTransition",g="webkitTransitionEnd",h=!0):h=!1}(),p&&(d=p+"Duration",v=p+"Property",m=p+"TimingFunction"),o=function(e,n,r,i,o){var u,a;this.root=n,this.node=r.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),typeof e=="string"?this.name=e:(this.name=e.n,e.a?this._params=e.a:e.d&&(u=new s({descriptor:e.d,root:n,owner:r,contextStack:r.parentFragment.contextStack}),this._params=u.toJSON(),u.teardown())),this._fn=n.transitions[this.name];if(!this._fn){a='Missing "'+this.name+'" transition. You may need to download a plugin via https://github.com/RactiveJS/Ractive/wiki/Plugins#transitions';if(n.debug)throw new Error(a);t(a);return}},o.prototype={init:function(){if(this._inited)throw new Error("Cannot initialize a transition more than once"
);this._inited=!0,this._fn.apply(this.root,[this].concat(this._params))},complete:function(){this._manager.pop(this.node),this.node._ractive.transition=null},getStyle:function(e){var t,n,i,s,o;t=window.getComputedStyle(this.node);if(typeof e=="string")return o=t[y(e)],o==="0px"&&(o=0),o;if(!r(e))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");n={},i=e.length;while(i--)s=e[i],o=t[y(s)],o==="0px"&&(o=0),n[s]=o;return n},setStyle:function(e,t){var n;if(typeof e=="string")this.node.style[y(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[y(n)]=e[n]);return this},animateStyle:function(e){var t=this,n,r,s,o,u,a,f,l;t.duration||(t.setStyle(e),t.complete()),n=Object.keys(e),r=[],s=window.getComputedStyle(t.node),u={},f=n.length;while(f--)l=n[f],o=s[y(l)],o==="0px"&&(o=0),o!=e[l]&&(r[r.length]=l,t.node.style[y(l)]=o);if(!r.length){t.resetStyle(),t.complete();return}setTimeout(function(){t.node.style[v]=n.map(y).map(w).
join(","),t.node.style[m]=w(t.easing||"linear"),t.node.style[d]=t.duration/1e3+"s",a=function(e){var n;n=r.indexOf(i(b(e.propertyName))),n!==-1&&r.splice(n,1);if(r.length)return;t.root.fire(t.name+":end"),t.node.removeEventListener(g,a,!1),t.isIntro&&t.resetStyle(),t.complete()},t.node.addEventListener(g,a,!1),setTimeout(function(){var n=r.length;while(n--)l=r[n],t.node.style[y(l)]=e[l]},0)},t.delay||0)},resetStyle:function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))}},a=["o","ms","moz","webkit"],f=new RegExp("^(?:"+a.join("|")+")([A-Z])"),l=new RegExp("^-(?:"+a.join("|")+")-"),c={},o}(n,O,M,a,Vt,Bt),Jt=function(e,t){return function(e,n,r,i,s){var o,u,a;if(!n.transitionsEnabled)return;o=new t(e,n,r,i,s),o._fn&&(u=o.node,o._manager=n._transitionManager,(a=u._ractive.transition)&&a.complete(),u._ractive.transition=o,o._manager.push(u),s?n._deferred.transitions.push(o):o.init())}}(O,$t),Kt=function(
e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){return function(i,v,m){var g,y,b,w,E,S,x,T,N,C,k,L;i.type=e.ELEMENT,g=i.parentFragment=v.parentFragment,y=g.contextStack,b=i.descriptor=v.descriptor,i.root=C=g.root,i.pNode=g.pNode,i.index=v.index,i.lcName=b.e.toLowerCase(),i.eventListeners=[],i.customEventListeners=[],i.pNode&&(w=i.namespace=o(b,i.pNode),E=w!==t.html?d(b.e):b.e,i.node=document.createElementNS(w,E),r(i.node,"_ractive",{value:{keypath:y.length?y[y.length-1]:"",index:g.indexRefs,events:n(null),root:C}})),S=u(i,b.a);if(b.f){if(i.node&&i.node.getAttribute("contenteditable")&&i.node.innerHTML){L="A pre-populated contenteditable element should not have children";if(C.debug)throw new Error(L);s(L)}a(i,i.node,b,m)}m&&b.v&&c(i,b.v),m&&(C.twoway&&(f(i,S),i.node.getAttribute("contenteditable")&&i.node._ractive.binding&&i.node._ractive.binding.update()),S.name&&!S.name.twoway&&S.name.update(),i.node.tagName==="IMG"&&((x=i.attributes.width)||(T=i.attributes.height))&&i.node.addEventListener("load",N=function(
){x&&(i.node.width=x.value),T&&(i.node.height=T.value),i.node.removeEventListener("load",N,!1)},!1),m.appendChild(i.node),b.o&&l(b.o,C,i,y),b.t1&&p(b.t1,C,i,y,!0),i.node.tagName==="OPTION"&&(i.pNode.tagName==="SELECT"&&(k=i.pNode._ractive.binding)&&k.deferUpdate(),i.node._ractive.value==i.pNode._ractive.value&&(i.node.selected=!0)),i.node.autofocus&&(C._deferred.focusable=i.node)),h(i)}}(u,vt,t,r,$,O,mt,Ft,It,qt,Ut,Wt,Xt,Jt,gt),Qt=function(e){return function(t){var n,r,i,s,o,u,a,f,l;this.fragment&&this.fragment.teardown(!1);while(this.attributes.length)this.attributes.pop().teardown();if(this.node){for(n in this.node._ractive.events)this.node._ractive.events[n].teardown();if(r=this.node._ractive.binding)r.teardown(),i=this.root._twowayBindings[r.attr.keypath],i.splice(i.indexOf(r),1)}this.decorator&&this.decorator.teardown(),this.descriptor.t2?(t&&this.root._transitionManager.detachWhenReady(this),e(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1)):t&&this.detach()
;if(o=this.liveQueries){s=o.length;while(s--){u=o[s];if(f=this.liveQueries[u]){l=f.length,a=this.root._liveQueries[u];while(l--)a._remove(f[l])}}}}}(Jt),Gt=function(){return"area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" ")}(),Yt=function(e){return function(){var t,n,r;t="<"+(this.descriptor.y?"!doctype":this.descriptor.e),r=this.attributes.length;for(n=0;n<r;n+=1)t+=" "+this.attributes[n].toString();return t+=">",this.html?t+=this.html:this.fragment&&(t+=this.fragment.toString()),e.indexOf(this.descriptor.e)===-1&&(t+="</"+this.descriptor.e+">"),t}}(Gt),Zt=function(e){return function(t){var n;if(e(this.node,t))return this.node;if(this.html&&(n=this.node.querySelector(t)))return n;if(this.fragment)return this.fragment.find(t)}}($),en=function(){return function(e,t){var n,r,i,s,o;t._test(this.node,!0)&&t.live&&((this.liveQueries||(this.liveQueries=[])).push(e),this.liveQueries[e]=[this.node]);if(this.html&&(n=this.node.querySelectorAll
(e))&&(i=n.length)){t.live&&(this.liveQueries[e]||((this.liveQueries||(this.liveQueries=[])).push(e),this.liveQueries[e]=[]),o=this.liveQueries[e]);for(r=0;r<i;r+=1)s=n[r],t.push(s),t.live&&o.push(s)}this.fragment&&this.fragment.findAll(e,t)}}(),tn=function(e,t,n,r,i){var s=function(t,n){e(this,t,n)};return s.prototype={detach:function(){if(this.node)return this.node.parentNode.removeChild(this.node),this.node},teardown:t,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:n,find:r,findAll:i},s}(Kt,Qt,Yt,Zt,en),nn={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},rn={},sn=function(){return function(e){var t,n,r;r="";while(e.length){t=e.indexOf("<!--"),n=e.indexOf("-->");if(t===-1&&n===-1){r+=e;break}if(t!==-1&&n===-1)throw"Illegal HTML - expected closing comment sequence ('-->')";if(n!==-1&&t===-1||n<t)throw"Illegal HTML - unexpected closing comment sequence ('-->')"
;r+=e.substr(0,t),e=e.substring(n+3)}return r}}(),on=function(e){return function(t){var n,r,i,s,o,u;o=/^\s*\r?\n/,u=/\r?\n\s*$/;for(n=2;n<t.length;n+=1)r=t[n],i=t[n-1],s=t[n-2],r.type===e.TEXT&&i.type===e.MUSTACHE&&s.type===e.TEXT&&u.test(s.value)&&o.test(r.value)&&(i.mustacheType!==e.INTERPOLATOR&&i.mustacheType!==e.TRIPLE&&(s.value=s.value.replace(u,"\n")),r.value=r.value.replace(o,""),r.value===""&&t.splice(n--,1));return t}}(u),un=function(e){return function(t){var n,r,i,s;for(n=0;n<t.length;n+=1){r=t[n],i=t[n-1],s=t[n+1];if(r.mustacheType===e.COMMENT||r.mustacheType===e.DELIMCHANGE)t.splice(n,1),i&&s&&i.type===e.TEXT&&s.type===e.TEXT&&(i.value+=s.value,t.splice(n,1)),n-=1}return t}}(u),an=function(e){var t=e(/^[^\s=]+/);return function(e){var n,r,i;return e.getStringMatch("=")?(n=e.pos,e.allowWhitespace(),r=t(e),r?(e.allowWhitespace(),i=t(e),i?(e.allowWhitespace(),e.getStringMatch("=")?[r,i]:(e.pos=n,null)):(e.pos=n,null)):(e.pos=n,null)):null}}(Nt),fn=function(e){var t={"#":e.SECTION
,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];return n?(e.pos+=1,n):null}}(u),ln=function(e,t,n){var r=t(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),i=/^[0-9][1-9]*$/;return function(t,s){var o,u,a,f,l,c,h;o=t.pos,u={type:s?e.TRIPLE:e.MUSTACHE};if(!s){if(f=t.getExpression())u.mustacheType=e.INTERPOLATOR,t.allowWhitespace(),t.getStringMatch(t.delimiters[1])?t.pos-=t.delimiters[1].length:(t.pos=o,f=null);if(!f){a=n(t),a===e.TRIPLE?u={type:e.TRIPLE}:u.mustacheType=a||e.INTERPOLATOR;if(a===e.COMMENT||a===e.CLOSING){c=t.remaining(),h=c.indexOf(t.delimiters[1]);if(h!==-1)return u.ref=c.substr(0,h),t.pos+=h,u}}}f||(t.allowWhitespace(),f=t.getExpression());while(f.t===e.BRACKETED&&f.x)f=f.x;return f.t===e.REFERENCE?u.ref=f.n:f.t===e.NUMBER_LITERAL&&i.test(f.v)?u.ref=f.v:u.expression=f,l=r(t),l!==null&&(u.indexRef=l),u}}(u,Nt,fn),cn=function(e,t,n){function r(r,i){var s=r.pos,o,u;return u=i?r.tripleDelimiters:r.delimiters,r.getStringMatch
(u[0])?(o=t(r),o?r.getStringMatch(u[1])?(r[i?"tripleDelimiters":"delimiters"]=o,{type:e.MUSTACHE,mustacheType:e.DELIMCHANGE}):(r.pos=s,null):(r.allowWhitespace(),o=n(r,i),o===null?(r.pos=s,null):(r.allowWhitespace(),r.getStringMatch(u[1])?o:(r.pos=s,null)))):null}return function(){var e=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,e)||r(this,!e)}}(u,an,ln),hn=function(e){return function(){var t,n,r;if(!this.getStringMatch("<!--"))return null;n=this.remaining(),r=n.indexOf("-->");if(r===-1)throw new Error('Unexpected end of input (expected "-->" to close comment)');return t=n.substr(0,r),this.pos+=r+3,{type:e.COMMENT,content:t}}}(u),pn=function(){return function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r)return 0;if(r===-1)continue;if(!i||r<i)i=r}return i||-1}}(),dn=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v;return r=function(){return i(this)||s(this)},i=function(t){var n,r,i,s;n=t.pos;if(t.inside)return null;if(!t.getStringMatch("<"))return null
;r={type:e.TAG},t.getStringMatch("!")&&(r.doctype=!0),r.name=o(t);if(!r.name)return t.pos=n,null;i=u(t),i&&(r.attrs=i),t.allowWhitespace(),t.getStringMatch("/")&&(r.selfClosing=!0);if(!t.getStringMatch(">"))return t.pos=n,null;s=r.name.toLowerCase();if(s==="script"||s==="style")t.inside=s;return r},s=function(t){var n,r,i;n=t.pos,i=function(e){throw new Error("Unexpected character "+t.remaining().charAt(0)+" (expected "+e+")")};if(!t.getStringMatch("<"))return null;r={type:e.TAG,closing:!0},t.getStringMatch("/")||i('"/"'),r.name=o(t),r.name||i("tag name"),t.getStringMatch(">")||i('">"');if(t.inside){if(r.name.toLowerCase()!==t.inside)return t.pos=n,null;t.inside=null}return r},o=t(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),u=function(e){var t,n,r;t=e.pos,e.allowWhitespace(),r=a(e);if(!r)return e.pos=t,null;n=[];while(r!==null)n[n.length]=r,e.allowWhitespace(),r=a(e);return n},a=function(e){var t,n,r;return n=f(e),n?(t={name:n},r=l(e),r&&(t.value=r),t):null},f=t(/^[^\s"'>\/=]+/),l=function(e){var t
,n;return t=e.pos,e.allowWhitespace(),e.getStringMatch("=")?(e.allowWhitespace(),n=v(e,"'")||v(e,'"')||c(e),n===null?(e.pos=t,null):n):(e.pos=t,null)},p=t(/^[^\s"'=<>`]+/),h=function(t){var n,r,i;return n=t.pos,r=p(t),r?((i=r.indexOf(t.delimiters[0]))!==-1&&(r=r.substr(0,i),t.pos=n+r.length),{type:e.TEXT,value:r}):null},c=function(e){var t,n;t=[],n=e.getMustache()||h(e);while(n!==null)t[t.length]=n,n=e.getMustache()||h(e);return t.length?t:null},v=function(e,t){var n,r,i;n=e.pos;if(!e.getStringMatch(t))return null;r=[],i=e.getMustache()||d(e,t);while(i!==null)r[r.length]=i,i=e.getMustache()||d(e,t);return e.getStringMatch(t)?r:(e.pos=n,null)},d=function(t,r){var i,s,o;i=t.pos,o=t.remaining(),s=n(o,[r,t.delimiters[0],t.delimiters[1]]);if(s===-1)throw new Error("Quoted attribute value must have a closing quote");return s?(t.pos+=s,{type:e.TEXT,value:o.substr(0,s)}):null},r}(u,Nt,pn),vn=function(e,t){return function(){var n,r,i;return r=this.remaining(),i=this.inside?"</"+this.inside:"<",n=
t(r,[i,this.delimiters[0],this.tripleDelimiters[0]]),n?(n===-1&&(n=r.length),this.pos+=n,{type:e.TEXT,value:r.substr(0,n)}):null}}(u,pn),mn=function(e){return function(t){var n=t.remaining();return n.substr(0,4)==="true"?(t.pos+=4,{t:e.BOOLEAN_LITERAL,v:"true"}):n.substr(0,5)==="false"?(t.pos+=5,{t:e.BOOLEAN_LITERAL,v:"false"}):null}}(u),gn=function(e,t){return function(n){var r,i,s;return r=n.pos,n.allowWhitespace(),i=t(n),i===null?(n.pos=r,null):(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),s=n.getExpression(),s===null?(n.pos=r,null):{t:e.KEY_VALUE_PAIR,k:i,v:s}):(n.pos=r,null))}}(u,Mt),yn=function(e){return function t(n){var r,i,s,o;return r=n.pos,s=e(n),s===null?null:(i=[s],n.getStringMatch(",")?(o=t(n),o?i.concat(o):(n.pos=r,null)):i)}}(gn),bn=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("{")?(i=t(n),n.allowWhitespace(),n.getStringMatch("}")?{t:e.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(u,yn),wn=function(
){return function e(t){var n,r,i,s;n=t.pos,t.allowWhitespace(),i=t.getExpression();if(i===null)return null;r=[i],t.allowWhitespace();if(t.getStringMatch(",")){s=e(t);if(s===null)return t.pos=n,null;r=r.concat(s)}return r}}(),En=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("[")?(i=t(n),n.getStringMatch("]")?{t:e.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(u,wn),Sn=function(e,t,n,r,i){return function(s){var o=e(s)||t(s)||n(s)||r(s)||i(s);return o}}(At,mn,Lt,bn,En),xn=function(e,t,n){var r,i,s,o;return r=t(/^\.[a-zA-Z_$0-9]+/),i=function(e){var t=s(e);return t?"."+t:null},s=t(/^\[(0|[1-9][0-9]*)\]/),o=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(t){var s,u,a,f,l,c,h;s=t.pos,u="";while(t.getStringMatch("../"))u+="../";u||(f=t.getStringMatch(".")||""),a=n(t)||"";if(!u&&!f&&o.test(a))return{t:e.GLOBAL,v:a};a==="this"&&!u&&!f&&(
a=".",s+=3),l=(u||f)+a;if(!l)return null;while(c=r(t)||i(t))l+=c;return t.getStringMatch("(")&&(h=l.lastIndexOf("."),h!==-1?(l=l.substr(0,h),t.pos=s+l.length):t.pos-=1),{t:e.REFERENCE,n:l}}}(u,Nt,Ot),Tn=function(e){return function(t){var n,r;return n=t.pos,t.getStringMatch("(")?(t.allowWhitespace(),r=t.getExpression(),r?(t.allowWhitespace(),t.getStringMatch(")")?{t:e.BRACKETED,x:r}:(t.pos=n,null)):(t.pos=n,null)):null}}(u),Nn=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(Sn,xn,Tn),Cn=function(e,t){return function(r){var i,s,o;i=r.pos,r.allowWhitespace();if(r.getStringMatch(".")){r.allowWhitespace();if(s=t(r))return{t:e.REFINEMENT,n:s};r.expected("a property name")}return r.getStringMatch("[")?(r.allowWhitespace(),o=r.getExpression(),o||r.expected("an expression"),r.allowWhitespace(),r.getStringMatch("]")||r.expected('"]"'),{t:e.REFINEMENT,x:o}):null}}(u,Ot),kn=function(e,t,n,r){return function(i){var s,o,u,a;o=t(i);if(!o)return null;while(o){s=i.pos;if(u=r(i))o={t:e.MEMBER
,x:o,r:u};else{if(!i.getStringMatch("("))break;i.allowWhitespace(),a=n(i),i.allowWhitespace();if(!i.getStringMatch(")")){i.pos=s;break}o={t:e.INVOCATION,x:o},a&&(o.o=a)}}return o}}(u,Nn,wn,Cn),Ln=function(e,t){var n,r;return r=function(t,n){return function(r){var i,s;return r.getStringMatch(t)?(i=r.pos,r.allowWhitespace(),s=r.getExpression(),s||r.expected("an expression"),{s:t,o:s,t:e.PREFIX_OPERATOR}):n(r)}},function(){var e,i,s,o,u;o="! ~ + - typeof".split(" "),u=t;for(e=0,i=o.length;e<i;e+=1)s=r(o[e],u),u=s;n=u}(),n}(u,kn),An=function(e,t){var n,r;return r=function(t,n){return function(r){var i,s,o;return s=n(r),s?(i=r.pos,r.allowWhitespace(),r.getStringMatch(t)?t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))?(r.pos=i,s):(r.allowWhitespace(),o=r.getExpression(),o?{t:e.INFIX_OPERATOR,s:t,o:[s,o]}:(r.pos=i,s)):(r.pos=i,s)):null}},function(){var e,i,s,o,u;o="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),u=t;for(e=0,i=o.length;e<i;e+=1)s=r(o[e]
,u),u=s;n=u}(),n}(u,Ln),On=function(e,t){return function(n){var r,i,s,o;return i=t(n),i?(r=n.pos,n.allowWhitespace(),n.getStringMatch("?")?(n.allowWhitespace(),s=n.getExpression(),s?(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),o=n.getExpression(),o?{t:e.CONDITIONAL,o:[i,s,o]}:(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):null}}(u,An),Mn=function(e){return function(){return e(this)}}(On),_n=function(e,t,n,r,i,s,o){var u;return u=function(e,t){var n;this.str=e,this.pos=0,this.delimiters=t.delimiters,this.tripleDelimiters=t.tripleDelimiters,this.tokens=[];while(this.pos<this.str.length)n=this.getToken(),n===null&&this.remaining()&&this.fail(),this.tokens.push(n)},u.prototype={getToken:function(){var e=this.getMustache()||this.getComment()||this.getTag()||this.getText();return e},getMustache:e,getComment:t,getTag:n,getText:r,getExpression:i,allowWhitespace:s,getStringMatch:o,remaining:function(){return this.str.substring(this.pos)},fail:function(){var e,t;throw e=this
.str.substr(0,this.pos).substr(-20),e.length===20&&(e="..."+e),t=this.remaining().substr(0,20),t.length===20&&(t+="..."),new Error("Could not parse template: "+(e?e+"<- ":"")+"failed at character "+this.pos+" ->"+t)},expected:function(e){var t=this.remaining().substr(0,40);throw t.length===40&&(t+="..."),new Error('Tokenizer failed: unexpected string "'+t+'" (expected '+e+")")}},u}(cn,hn,dn,vn,Mn,Tt,xt),Dn=function(e,t,n,r,i){var s,o;return i.push(function(){o=i.Ractive}),s=function(i,s){var u,a;return s=s||{},s.stripComments!==!1&&(i=e(i)),u=new r(i,{delimiters:s.delimiters||(o?o.delimiters:["{{","}}"]),tripleDelimiters:s.tripleDelimiters||(o?o.tripleDelimiters:["{{{","}}}"])}),a=u.tokens,t(a),n(a),a},s}(sn,on,un,_n,ht),Pn=function(e){var t,n,r,i,s,o,u,a,f;return t=function(e,t){this.text=t?e.value:e.value.replace(f," ")},t.prototype={type:e.TEXT,toJSON:function(){return this.decoded||(this.decoded=a(this.text))},toString:function(){return this.text}},n={quot:34,amp:38,apos:39,lt:60,gt
:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron
:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part
:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&("+Object.keys(n).join("|")+");?","g"),s=/&#x([0-9]+);?/g,o=/&#([0-9]+);?/g,u=function(e){return e?e===10?32:e<128?e:e<=159?r[e-128]:e<55296?e:e<=57343?65533:e<=65535?e:65533:65533},a=function(e){var t;return t=e.replace(i,function(e,t){return n[t]?String.fromCharCode(n[t]):e}),t=t.replace(s,function(e,t){return String.fromCharCode(u(parseInt(t,16)
))}),t=t.replace(o,function(e,t){return String.fromCharCode(u(t))}),t},f=/\s+/g,t}(u),Hn=function(e,t){return function(n){return n.type===e.TEXT?(this.pos+=1,new t(n,this.preserveWhitespace)):null}}(u,Pn),Bn=function(e){var t;return t=function(e){this.content=e.content},t.prototype={toJSON:function(){return{t:e.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},t}(u),jn=function(e,t){return function(n){return n.type===e.COMMENT?(this.pos+=1,new t(n,this.preserveWhitespace)):null}}(u,Bn),Fn=function(e,t){var n,r,i;return n=function(e){this.refs=[],r(e,this.refs),this.str=i(e,this.refs)},n.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},r=function(n,i){var s,o;n.t===e.REFERENCE&&i.indexOf(n.n)===-1&&i.unshift(n.n),o=n.o||n.m;if(o)if(t(o))r(o,i);else{s=o.length;while(s--)r(o[s],i)}n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)},i=function(t,n){var r=function(e){return i(e,n)};switch(t.t){case e.BOOLEAN_LITERAL:
case e.GLOBAL:case e.NUMBER_LITERAL:return t.v;case e.STRING_LITERAL:return"'"+t.v.replace(/'/g,"\\'")+"'";case e.ARRAY_LITERAL:return"["+(t.m?t.m.map(r).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(t.m?t.m.map(r).join(","):"")+"}";case e.KEY_VALUE_PAIR:return t.k+":"+i(t.v,n);case e.PREFIX_OPERATOR:return(t.s==="typeof"?"typeof ":t.s)+i(t.o,n);case e.INFIX_OPERATOR:return i(t.o[0],n)+(t.s.substr(0,2)==="in"?" "+t.s+" ":t.s)+i(t.o[1],n);case e.INVOCATION:return i(t.x,n)+"("+(t.o?t.o.map(r).join(","):"")+")";case e.BRACKETED:return"("+i(t.x,n)+")";case e.MEMBER:return i(t.x,n)+i(t.r,n);case e.REFINEMENT:return t.n?"."+t.n:"["+i(t.x,n)+"]";case e.CONDITIONAL:return i(t.o[0],n)+"?"+i(t.o[1],n)+":"+i(t.o[2],n);case e.REFERENCE:return"${"+n.indexOf(t.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}},n}(u,y),In=function(e,t){var n=function(n,r){this.type=n.type===e.TRIPLE?e.TRIPLE:n.mustacheType,n.ref&&(this.ref=n.ref),n.expression&&(this
.expr=new t(n.expression)),r.pos+=1};return n.prototype={toJSON:function(){var e;return this.json?this.json:(e={t:this.type},this.ref&&(e.r=this.ref),this.expr&&(e.x=this.expr.toJSON()),this.json=e,e)},toString:function(){return!1}},n}(u,Fn),qn=function(){return function(e){var t="",n,r,i;if(!e)return"";for(r=0,i=e.length;r<i;r+=1){n=e[r].toString();if(n===!1)return!1;t+=n}return t}}(),Rn=function(e){return function(t,n){var r,i;if(!n){r=e(t);if(r!==!1)return r}return i=t.map(function(e){return e.toJSON(n)}),i}}(qn),Un=function(e,t,n){var r=function(t,r){var i;this.ref=t.ref,this.indexRef=t.indexRef,this.inverted=t.mustacheType===e.INVERTED,t.expression&&(this.expr=new n(t.expression)),r.pos+=1,this.items=[],i=r.next();while(i){if(i.mustacheType===e.CLOSING){if(i.ref.trim()===this.ref||this.expr){r.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items[this.items.length]=r.getStub(),i=r.next()}};return r.prototype={toJSON:function(n){var r;return this
.json?this.json:(r={t:e.SECTION},this.ref&&(r.r=this.ref),this.indexRef&&(r.i=this.indexRef),this.inverted&&(r.n=!0),this.expr&&(r.x=this.expr.toJSON()),this.items.length&&(r.f=t(this.items,n)),this.json=r,r)},toString:function(){return!1}},r}(u,Rn,Fn),zn=function(e,t,n){return function(r){if(r.type===e.MUSTACHE||r.type===e.TRIPLE)return r.mustacheType===e.SECTION||r.mustacheType===e.INVERTED?new n(r,this):new t(r,this)}}(u,In,Un),Wn=function(){return{li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]}}(),Xn=function(e){function t(n){var r,i;if(typeof n!="object")return n;if(e(n))return n.map(t);r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i]));return r}return function(e){var n,r,i,
s,o,u;i={},n=[],r=[],o=e.length;for(s=0;s<o;s+=1){u=e[s];if(u.name==="intro"){if(i.intro)throw new Error("An element can only have one intro transition");i.intro=u}else if(u.name==="outro"){if(i.outro)throw new Error("An element can only have one outro transition");i.outro=u}else if(u.name==="intro-outro"){if(i.intro||i.outro)throw new Error("An element can only have one intro and one outro transition");i.intro=u,i.outro=t(u)}else u.name.substr(0,6)==="proxy-"?(u.name=u.name.substring(6),r[r.length]=u):u.name.substr(0,3)==="on-"?(u.name=u.name.substring(3),r[r.length]=u):u.name==="decorator"?i.decorator=u:n[n.length]=u}return i.attrs=n,i.proxies=r,i}}(a),Vn=function(e,t){return function(n){var r,i,s,o,u,a,f,l,c;u=function(){throw new Error("Illegal directive")},(!n.name||!n.value)&&u(),r={directiveType:n.name},i=n.value,a=[],f=[];while(i.length){s=i.shift();if(s.type===e.TEXT){o=s.value.indexOf(":");if(o!==-1){o&&(a[a.length]={type:e.TEXT,value:s.value.substr(0,o)}),s.value.length>o+1&&
(f[0]={type:e.TEXT,value:s.value.substring(o+1)});break}a[a.length]=s}else a[a.length]=s}return f=f.concat(i),a.length===1&&a[0].type===e.TEXT?r.name=a[0].value:r.name=a,f.length&&(f.length===1&&f[0].type===e.TEXT?(l=t("["+f[0].value+"]"),r.args=l?l.v:f[0].value):(c=f[0],c.type===e.TEXT?c.value="["+c.value:f.unshift({type:e.TEXT,value:"["}),c=f[f.length-1],c.type===e.TEXT?c.value+="]":f.push({type:e.TEXT,value:"]"}),r.dynamicArgs=f)),r}}(u,_t),$n=function(e,t){var n;return n=function(e,t){var n;this.tokens=e||[],this.pos=0,this.options=t,this.result=[];while(n=this.getStub())this.result.push(n)},n.prototype={getStub:function(){var e=this.next();return e?this.getText(e)||this.getMustache(e):null},getText:e,getMustache:t,next:function(){return this.tokens[this.pos]}},n}(Hn,zn),Jn=function(e,t,n){var r;return r=function(t){var n=new e(t);this.stubs=n.result},r.prototype={toJSON:function(e){var t;return this["json_"+e]?this["json_"+e]:(t=this["json_"+e]=n(this.stubs,e),t)},toString:function(
){return this.str!==undefined?this.str:(this.str=t(this.stubs),this.str)}},r}($n,qn,Rn),Kn=function(e){return function(t){var n,r;if(typeof t.name=="string"){if(!t.args&&!t.dynamicArgs)return t.name;r=t.name}else r=(new e(t.name)).toJSON();return n={n:r},t.args?(n.a=t.args,n):(t.dynamicArgs&&(n.d=(new e(t.dynamicArgs)).toJSON()),n)}}(Jn),Qn=function(e,t,n){return function(r){var i,s,o,u,a,f,l;if(this["json_"+r])return this["json_"+r];this.component?i={t:e.COMPONENT,e:this.component}:i={t:e.ELEMENT,e:this.tag},this.doctype&&(i.y=1);if(this.attributes&&this.attributes.length){i.a={},f=this.attributes.length;for(a=0;a<f;a+=1){l=this.attributes[a],s=l.name;if(i.a[s])throw new Error("You cannot have multiple attributes with the same name");l.value===null?o=null:o=l.value.toJSON(r),i.a[s]=o}}this.items&&this.items.length&&(i.f=t(this.items,r));if(this.proxies&&this.proxies.length){i.v={},f=this.proxies.length;for(a=0;a<f;a+=1)u=this.proxies[a],i.v[u.directiveType]=n(u)}return this.intro&&(i.t1=
n(this.intro)),this.outro&&(i.t2=n(this.outro)),this.decorator&&(i.o=n(this.decorator)),this["json_"+r]=i,i}}(u,Rn,Kn),Gn=function(e,t){var n;return n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var r,i,s,o,u,a,f,l;if(this.str!==undefined)return this.str;if(this.component)return this.str=!1;if(n.indexOf(this.tag.toLowerCase())===-1)return this.str=!1;if(this.proxies||this.intro||this
.outro||this.decorator)return this.str=!1;f=e(this.items);if(f===!1)return this.str=!1;l=t.indexOf(this.tag.toLowerCase())!==-1,r="<"+this.tag;if(this.attributes)for(i=0,s=this.attributes.length;i<s;i+=1){u=this.attributes[i].name;if(u.indexOf(":")!==-1)return this.str=!1;if(u==="id"||u==="intro"||u==="outro")return this.str=!1;o=" "+u;if(this.attributes[i].value!==null){a=this.attributes[i].value.toString();if(a===!1)return this.str=!1;a!==""&&(o+="=",/[\s"'=<>`]/.test(a)?o+='"'+a.replace(/"/g,"&quot;")+'"':o+=a)}r+=o}return this.selfClosing&&!l?(r+="/>",this.str=r):(r+=">",l?this.str=r:(r+=f,r+="</"+this.tag+">",this.str=r))}}(qn,Gt),Yn=function(e,t,n,r,i,s,o,u,a,f,l){var c,h,p,d,v,m=/^\s+/,g=/\s+$/;return c=function(r,i,a){var f,c,h,p,d,y,b;i.pos+=1,y=function(e){return{name:e.name,value:e.value?new l(e.value):null}},this.tag=r.name,b=r.name.toLowerCase(),b.substr(0,3)==="rv-"&&(n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this
.tag=this.tag.substring(3)),a=a||b==="pre",r.attrs&&(h=o(r.attrs),c=h.attrs,p=h.proxies,i.options.sanitize&&i.options.sanitize.eventAttributes&&(c=c.filter(v)),c.length&&(this.attributes=c.map(y)),p.length&&(this.proxies=p.map(u)),h.intro&&(this.intro=u(h.intro)),h.outro&&(this.outro=u(h.outro)),h.decorator&&(this.decorator=u(h.decorator))),r.doctype&&(this.doctype=!0),r.selfClosing&&(this.selfClosing=!0),t.indexOf(b)!==-1&&(this.isVoid=!0);if(this.selfClosing||this.isVoid)return;this.siblings=s[b],this.items=[],f=i.next();while(f){if(f.mustacheType===e.CLOSING)break;if(f.type===e.TAG){if(f.closing){f.name.toLowerCase()===b&&(i.pos+=1);break}if(this.siblings&&this.siblings.indexOf(f.name.toLowerCase())!==-1)break}this.items[this.items.length]=i.getStub(),f=i.next()}a||(d=this.items[0],d&&d.type===e.TEXT&&(d.text=d.text.replace(m,""),d.text||this.items.shift()),d=this.items[this.items.length-1],d&&d.type===e.TEXT&&(d.text=d.text.replace(g,""),d.text||this.items.pop()))},c.prototype={toJSON
:a,toString:f},h="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),p="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),d=/^on[a-zA-Z]/,v=function(e){var t=!d.test(e.name);return t},c}(u,Gt,O,Vt,qn,Wn,Xn,Vn,Qn,Gn,Jn),Zn=function(e,t){return function(e){return this.options.sanitize&&this.options.sanitize.elements&&this.options.sanitize.elements.indexOf(e.name.toLowerCase())!==-1?null:new t(
e,this)}}(u,Yn),er=function(e,t,n,r,i){var s;return s=function(e,t){var n,r;this.tokens=e||[],this.pos=0,this.options=t,this.preserveWhitespace=t.preserveWhitespace,r=[];while(n=this.getStub())r.push(n);this.result=i(r)},s.prototype={getStub:function(){var e=this.next();return e?this.getText(e)||this.getComment(e)||this.getMustache(e)||this.getElement(e):null},getText:e,getComment:t,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}},s}(Hn,jn,zn,Zn,Rn),tr=function(e,t,n){var r,i,s,o,u;return i=/^\s*$/,s=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,o=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,r=function(r,o){var a,f,l;return o=o||{},s.test(r)?u(r,o):(o.sanitize===!0&&(o.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),a=e(r,o),o.preserveWhitespace||(l=a[0],l&&l.type===t.TEXT&&i.test(l.value)&&a.shift(),l=a[a.length-1
],l&&l.type===t.TEXT&&i.test(l.value)&&a.pop()),f=(new n(a,o)).result,typeof f=="string"?[f]:f)},u=function(e,t){var n,i,u,a,f,l;u={},n="",i=e;while(f=s.exec(i)){a=f[1],n+=i.substr(0,f.index),i=i.substring(f.index+f[0].length),l=o.exec(i);if(!l||l[1]!==a)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");u[a]=r(i.substr(0,l.index),t),i=i.substring(l.index+l[0].length)}return{main:r(n,t),partials:u}},r}(Dn,u,er),nr=function(e,t,n,r,i,s){var o,u,a,f;return o=function(r,o){var l,c,h;if(c=a(r,o))return c;if(t){l=document.getElementById(o);if(l&&l.tagName==="SCRIPT"){if(!s)throw new Error(e.missingParser);u(s(l.innerHTML),o,i)}}c=i[o];if(!c){h='Could not find descriptor for partial "'+o+'"';if(r.debug)throw new Error(h);return n(h),[]}return f(c)},a=function(t,n){var r;if(t.partials[n]){if(typeof t.partials[n]=="string"){if(!s)throw new Error(e.missingParser);r=s(t.partials[n],t.parseOptions),u(r,n,t.partials)}return f(t.partials[n])}},u=function(e,t,n){var i
;if(r(e)){n[t]=e.main;for(i in e.partials)e.partials.hasOwnProperty(i)&&(n[i]=e.partials[i])}else n[t]=e},f=function(e){return e.length===1&&typeof e[0]=="string"?e[0]:e},o}(nn,n,O,y,rn,tr),rr=function(e,t,n){var r,i;return n.push(function(){i=n.DomFragment}),r=function(n,r){var s=this.parentFragment=n.parentFragment,o;this.type=e.PARTIAL,this.name=n.descriptor.r,this.index=n.index;if(!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");o=t(s.root,n.descriptor.r),this.fragment=new i({descriptor:o,root:s.root,pNode:s.pNode,contextStack:s.contextStack,owner:this}),r&&r.appendChild(this.fragment.docFrag)},r.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},teardown:function(e){this.fragment.teardown(e)},toString:function(){return this.fragment.toString()},find:function(e)
{return this.fragment.find(e)},findAll:function(e,t,n){return this.fragment.findAll(e,t,n)}},r}(u,nr,ht),ir=function(e){var t=function(t,n,r,i,s){this.parentFragment=n.parentFragment,this.component=n,this.key=r,this.fragment=new e({descriptor:i,root:t,owner:this,contextStack:s}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return t.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._deferred.attrs.push(this),this.deferred=!0)},update:function(){var e=this.fragment.getValue();this.component.instance.set(this.key,e),this.value=e},teardown:function(){this.fragment.teardown()}},t}(Bt),sr=function(e,t,n,r,i){var s;return s=function(s,o){var u=this,a=this.parentFragment=s.parentFragment,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;f=a.root,this.type=e.COMPONENT,this.name=s.descriptor.r,this.index=s.index,l=f.components[s.descriptor.e];if(!l)throw new Error('Component "'+s.descriptor.e+'" not found');c=l.twoway!==!1
,v={},m=[],this.complexParameters=[],N=function(t,s){var o,l;if(typeof s=="string"){l=n(s),v[t]=l?l.v:s;return}if(s===null){v[t]=!0;return}if(s.length===1&&s[0].t===e.INTERPOLATOR&&s[0].r){if(a.indexRefs&&a.indexRefs[s[0].r]!==undefined){v[t]=a.indexRefs[s[0].r];return}d=r(f,s[0].r,a.contextStack)||s[0].r,v[t]=f.get(d),m[m.length]=[t,d];return}o=new i(f,u,t,s,a.contextStack),u.complexParameters[u.complexParameters.length]=o,v[t]=o.value};if(s.descriptor.a)for(x in s.descriptor.a)s.descriptor.a.hasOwnProperty(x)&&N(x,s.descriptor.a[x]);h={},s.descriptor.f&&(h.content=s.descriptor.f),p=this.instance=new l({el:a.pNode.cloneNode(!1),data:v,partials:h}),p.component=this;while(p.el.firstChild)o.appendChild(p.el.firstChild);p.el=a.pNode,L=p.fragment.items;if(L){g=L.length;while(g--)L[g].pNode&&(L[g].pNode=a.pNode)}u.observers=[],T={init:!1,debug:!0},b=function(e){var t=f.observe(e[1],function(t){!E&&!f._wrapped[e[1]]&&(S=!0,p.set(e[0],t),S=!1)},T);u.observers[u.observers.length]=t},c&&(w=function(
e){var t=p.observe(e[0],function(t){S||(E=!0,f.set(e[1],t),E=!1)},T);u.observers[u.observers.length]=t,f.set(e[1],p.get(e[0]))}),g=m.length;while(g--)y=m[g],b(y),c&&w(y);k=function(e,t){p.on(e,function(){var e=Array.prototype.slice.call(arguments);e.unshift(t),f.fire.apply(f,e)})};if(s.descriptor.v)for(C in s.descriptor.v)s.descriptor.v.hasOwnProperty(C)&&k(C,s.descriptor.v[C]);(s.descriptor.t1||s.descriptor.t2||s.descriptor.o)&&t('The "intro", "outro" and "decorator" directives have no effect on components')},s.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},teardown:function(){while(this.complexParameters.length)this.complexParameters.pop().teardown();while(this.observers.length)this.observers.pop().cancel();this.instance.teardown()},toString:function(){return this.instance.fragment.toString()},find:function(e){return this.instance.fragment.find(e)},findAll:function(e,t){return this.instance
.fragment.findAll(e,t)}},s}(u,O,_t,w,ir),or=function(e){var t=function(t,n){this.type=e.COMMENT,this.descriptor=t.descriptor,n&&(this.node=document.createComment(t.descriptor.f),this.pNode=t.parentFragment.pNode,n.appendChild(this.node))};return t.prototype={detach:function(){return this.node.parentNode.removeChild(this.node),this.node},teardown:function(e){e&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},t}(u),ur=function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(e){e.pNode&&(this.docFrag=document.createDocumentFragment()),typeof e.descriptor=="string"?(this.html=e.descriptor,this.docFrag&&(this.nodes=r(e.descriptor,e.pNode.tagName,this.docFrag))):n(this,e)};return p.prototype={detach:function(){var e,t;if(this.nodes)while(this.nodes.length)this.docFrag.appendChild(this.nodes.pop());else if(this.items){e=this.items.length;for(t=0;t<e;t+=1)this.docFrag.appendChild(this.items[t].detach())}return this.docFrag},createItem:function(
t){if(typeof t.descriptor=="string")return new i(t,this.docFrag);switch(t.descriptor.t){case e.INTERPOLATOR:return new s(t,this.docFrag);case e.SECTION:return new o(t,this.docFrag);case e.TRIPLE:return new u(t,this.docFrag);case e.ELEMENT:if(this.root.components[t.descriptor.e])return new l(t,this.docFrag);return new a(t,this.docFrag);case e.PARTIAL:return new f(t,this.docFrag);case e.COMMENT:return new c(t,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(e){var t;if(this.nodes&&e)while(t=this.nodes.pop())t.parentNode.removeChild(t);else if(this.items)while(this.items.length)this.items.pop().teardown(e);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(e){var t=e.index;return this.items[t+1]?this.items[t+1].firstNode():this.owner===this.root?
this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var e,t,n,r;if(this.html)return this.html;e="";if(!this.items)return e;n=this.items.length;for(t=0;t<n;t+=1)r=this.items[t],e+=r.toString();return e},find:function(e){var n,r,i,s,o;if(this.nodes){r=this.nodes.length;for(n=0;n<r;n+=1){s=this.nodes[n];if(s.nodeType!==1)continue;if(t(s,e))return s;if(o=s.querySelector(e))return o}return null}if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.find&&(o=i.find(e)))return o}return null}},findAll:function(e,n){var r,i,s,o,u,a,f;if(this.nodes){i=this.nodes.length;for(r=0;r<i;r+=1){o=this.nodes[r];if(o.nodeType!==1)continue;t(o,e)&&n.push(o);if(u=o.querySelectorAll(e)){a=u.length;for(f=0;f<a;f+=1)n.push(u[f])}}}else if(this.items){i=this.items.length;for(r=0;r<i;r+=1)s=this.items[r],s.findAll&&s.findAll(e,n)}return n}},h.DomFragment=p,p}(u,$,Q,G,Y,ut,pt,dt,tn,rr,sr,or,ht),ar=function(e,t,n,r,i){return function(e,
s){var o;if(!this._initing)throw new Error("You cannot call ractive.render() directly!");this._transitionManager=o=t(this,s),this.fragment=new i({descriptor:this.template,root:this,owner:this,pNode:e}),n(this),e&&e.appendChild(this.fragment.docFrag),r(this),this._transitionManager=null,o.ready(),this.rendered=!0}}(K,p,c,h,ur),fr=function(e){return function(){return e("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(O),lr=function(){return function(){return this.fragment.toString()}}(),cr=function(e,t){return function(n){var r,i,s;this.fire("teardown"),s=this._transitionManager,this._transitionManager=i=e(this,n),this.fragment.teardown(!0);while(this._animations[0])this._animations[0].stop();for(r in this._cache)t(this,r);this._transitionManager=s,i.ready()}}(p,f),hr=function(e){return function(t,n,r){var i;if(typeof n!="string"||!e(r)){if(t.debug)throw new Error("Bad arguments");return}i=t.get(n),i===undefined&&(i=0
);if(!e(i)){if(t.debug)throw new Error("Cannot add to a non-numeric value");return}t.set(n,i+r)}}(M),pr=function(e){return function(t,n){e(this,t,n===undefined?1:n)}}(hr),dr=function(e){return function(t,n){e(this,t,n===undefined?-1:-n)}}(hr),vr=function(){return function(e){var t;if(typeof e!="string"){if(this.debug)throw new Error("Bad arguments");return}t=this.get(e),this.set(e,!t)}}(),mr=function(){return function(e,t){var n,r,i,s,o;return n={},i=0,r=function(e,r){var s,u,a;u=i,a=t.length;do{s=t.indexOf(e,u);if(s===-1)return o=!0,-1;u=s+1}while(n[s]&&u<a);return s===i&&(i+=1),s!==r&&(o=!0),n[s]=!0,s},s=e.map(r),s.unchanged=!o,s}}(),gr=function(e){return function(n,r,i,s){var o,u;o=r.length;while(o--)u=r[o],u.type===e.REFERENCE?u.update():u.keypath===n&&u.type===e.SECTION&&!u.inverted&&u.pNode?i[i.length]=u:s[s.length]=u}}(u),yr=function(e,t,n,r,i,s,o,u,a,f){function c(e){return JSON.stringify(e)}function h(e){return l[e]||(l[e]=function(t){return t[e]}),l[e]}var l={};return function(
l,p,d){var v,m,g,y,b,w,E,S,x,T,N,C,k,L,A;v=this.get(l);if(!t(v)||!t(p))return this.set(l,p,d&&d.complete);b=v.length===p.length;if(d&&d.compare){if(d.compare===!0)y=c;else if(typeof d.compare=="string")y=h(d.compare);else{if(typeof d.compare!="function")throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");y=d.compare}try{m=v.map(y),g=p.map(y)}catch(O){if(this.debug)throw O;e("Merge operation: comparison failed. Falling back to identity checking"),m=v,g=p}}else m=v,g=p;E=a(m,g),n(this,l),u(this,l,p);if(E.unchanged&&b)return;k=this._transitionManager,this._transitionManager=C=s(this,d&&d.complete),S=[],x=[];for(w=0;w<this._deps.length;w+=1){T=this._deps[w];if(!T)continue;N=T[l];if(N){f(l,N,S,x),r(this);while(S.length)S.pop().merge(E);while(x.length)x.pop().update()}}i(this),L=[],A=l.split(".");while(A.length)A.pop(),L[L.length]=A.join(".");o.multiple(this,L,!0),m.length!==g.length&&o(this,l+".length",!0
),this._transitionManager=k,C.ready()}}(O,a,f,c,S,p,d,x,mr,gr),br=function(){return function(){return this.fragment.detach()}}(),wr=function(e){return function(t,n){t=e(t),n=e(n)||null;if(!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n)}}(K),Er=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w){return{get:e,set:t,update:n,updateModel:r,animate:i,on:s,off:o,observe:u,fire:a,find:f,findAll:l,renderHTML:h,toHTML:p,render:c,teardown:d,add:v,subtract:m,toggle:g,merge:y,detach:b,insert:w}}(g,T,N,k,H,B,j,W,X,V,J,ar,fr,lr,cr,pr,dr,vr,yr,br,wr),Sr=function(){return["partials","transitions","events","components","decorators"]}(),xr=function(){return["el","template","complete","modifyArrays","magic","twoway","lazy","append","preserveWhitespace","sanitize","stripComments","noIntro","transitionsEnabled"]}(),Tr=function(e,t,n){return function(r,i){e.forEach(function(e){r[e]=n(i[e])}),t.forEach(function(e){r[e]=i[e]}),i.data&&(r.data=i.data)}}(Sr,xr
,t),Nr=function(){return function(e,t){return/_super/.test(e)?function(){var n=this._super,r;return this._super=t,r=e.apply(this,arguments),this._super=n,r}:e}}(),Cr=function(){return function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}}(),kr=function(e,t,n,r){var i,s;return i=e.concat(t),s={},i.forEach(function(e){s[e]=!0}),function(i,o){var u,a;e.forEach(function(e){var t=o[e];t&&i[e]&&r(i[e],t)}),t.forEach(function(e){var t=o[e];t!==undefined&&(typeof t=="function"&&typeof i[e]=="function"?i[e]=n(t,i[e]):i[e]=o[e])}),o.data&&(i.data=r(i.data||{},o.data));for(u in o)o.hasOwnProperty(u)&&!s[u]&&(a=o[u],typeof a=="function"&&typeof i.prototype[u]=="function"?i.prototype[u]=n(a,i.prototype[u]):i.prototype[u]=a)}}(Sr,xr,Nr,Cr),Lr=function(e,t){return function(n,r){e(n.template)&&(n.partials||(n.partials={}),t(n.partials,n.template.partials),r.partials&&t(n.partials,r.partials),n.template=n.template.main)}}(y,Cr),Ar=function(e,t,n){return function(r){var i;if(typeof r.
template=="string"){if(!n)throw new Error(e.missingParser);if(r.template.charAt(0)==="#"&&t){i=document.getElementById(r.template.substring(1));if(!i||i.tagName!=="SCRIPT")throw new Error("Could not find template element ("+r.template+")");r.template=n(i.innerHTML,r)}else r.template=n(r.template,r)}}}(nn,n,tr),Or=function(e,t){return function(n){var r;if(n.partials)for(r in n.partials)if(n.partials.hasOwnProperty(r)&&typeof n.partials[r]=="string"){if(!t)throw new Error(e.missingParser);n.partials[r]=t(n.partials[r],n)}}}(nn,tr),Mr=function(){return function(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}}(),_r=function(){return function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);return e}}(),Dr=function(){return function(e){var t,n,r=Array.prototype.slice.call(arguments,1);while(n=r.shift())for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}}(),Pr=function(e,t,n,r,i,s,o,u,a,f){var l,c,h,p;return l=function(){return{}},c=function()
{return[]},h=r(null),s(h,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:l},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:l},decorators:{enumerable:!0,value:l},events:{enumerable:!0,value:l},noIntro:{enumerable:!0,value:!1},transitionsEnabled:{enumerable:!0,value:!0},magic:{enumerable:!0,value:!1},adaptors:{enumerable:!0,value:c}}),p=["components","decorators","events","partials","transitions"],function(l,c){var d,v,m,g;for(d in h)c[d]===undefined&&(c[d]=typeof h[d]=="function"?h[d]():h[d]);s(l,{_initing:{value:!0,writable:!0},_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=Math.random()*16|0,n=e=="x"?t:t&3|8,n.toString(16)})},_subs:{value:r(null)},_cache:{value:{}},_cacheMap:{value:r(null)},_deps:{value:[]},_depsMap:{value:r(null)},_patternObservers:{value:[]},_pendingResolution
:{value:[]},_deferred:{value:{}},_evaluators:{value:r(null)},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:r(null)},_liveQueries:{value:[]}}),s(l._deferred,{attrs:{value:[]},evals:{value:[]},selectValues:{value:[]},checkboxes:{value:[]},radios:{value:[]},observers:{value:[]},transitions:{value:[]},liveQueries:{value:[]},decorators:{value:[]},focusable:{value:null,writable:!0}}),l.data=c.data,l.adaptors=c.adaptors,l.modifyArrays=c.modifyArrays,l.magic=c.magic,l.twoway=c.twoway,l.lazy=c.lazy,l.debug=c.debug;if(l.magic&&!a)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(c.el){l.el=o(c.el);if(!l.el&&l.debug)throw new Error("Could not find container element")}c.eventDefinitions&&(n("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),c.events=c.eventDefinitions),p.forEach(function(e){l[e]=i(r(l.constructor
[e]),c[e])}),v=c.template;if(typeof v=="string"){if(!f)throw new Error(t.missingParser);if(v.charAt(0)==="#"&&e){m=document.getElementById(v.substring(1));if(!m)throw new Error("Could not find template element ("+v+")");g=f(m.innerHTML,c)}else g=f(v,c)}else g=v;u(g)&&(i(l.partials,g.partials),g=g.main),g&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),l.template=g,i(l.partials,c.partials),l.parseOptions={preserveWhitespace:c.preserveWhitespace,sanitize:c.sanitize,stripComments:c.stripComments},l.transitionsEnabled=c.noIntro?!1:c.transitionsEnabled,e&&!l.el&&(l.el=document.createDocumentFragment()),l.el&&!c.append&&(l.el.innerHTML=""),l.render(l.el,c.complete),l.transitionsEnabled=c.transitionsEnabled,l._initing=!1}}(n,nn,O,t,Dr,i,K,y,m,tr),Hr=function(e,t,n,r,i){return function(t,s,o){e.forEach(function(e){var t=o[e],n=s[e];typeof t=="function"&&typeof n=="function"?o[e]=r(t,n):t===undefined&&n!==undefined&&(o[e]=n)}),s.data&&(o.data=n(o.data||{},s.data)),t.beforeInit&&t.beforeInit(o),i(
t,o),t.init&&t.init(o)}}(xr,Mr,_r,Nr,Pr),Br=function(e,t,n,r,i,s,o,u){var a;return u.push(function(){a=u.Ractive}),function(u){var a=this,f;return f=function(e){o(this,f,e||{})},f.prototype=e(a.prototype),f.prototype.constructor=f,t(f,a),n(f,u),i(f),r(f,u),s(f),f.extend=a.extend,f}}(t,Tr,kr,Lr,Ar,Or,Hr,ht),jr=function(e,t,n,r,i,s,o,u,a,f){var l=function(e){a(this,e)};return t(l,{prototype:{value:n},partials:{value:r},adaptors:{value:i},easing:{value:s},transitions:{value:{}},events:{value:{}},components:{value:{}},decorators:{value:{}},VERSION:{value:"0.3.8"}}),l.eventDefinitions=l.events,l.prototype.constructor=l,l.delimiters=["{{","}}"],l.tripleDelimiters=["{{{","}}}"],l.extend=o,l.parse=u,f.Ractive=l,l}(t,i,Er,rn,o,P,Br,tr,Pr,ht),Fr=function(e,t){typeof window!="undefined"&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains);while(t.length)t.pop()();return e}(jr
,ht);typeof module!="undefined"&&module.exports?module.exports=Fr:typeof define=="function"&&define.amd?define("ractive",[],function(){return Fr}):e.Ractive=Fr})(typeof window!="undefined"?window:this),define("util/uuid",[],function(){var e=function(){};return e.prototype.generate=function(){var e=(new Date).getTime(),t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&7|8).toString(16)});return t},new e}),define("text/text",["module"],function(e){var t,n,r,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a=typeof location!="undefined"&&location.href,f=a&&location.protocol&&location.protocol.replace(/\:/,""),l=a&&location.hostname,c=a&&(location.port||undefined),h={},p=e.config&&e.config()||{};t={version:"2.0.7",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(u);t&&(e=t[1])}else e=""
;return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},
finishLoad:function(e,n,r,i){r=n?t.strip(r):r,p.isBuild&&(h[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}p.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),h=p.useXhr||t.useXhr;!a||h(u,f,l,c)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(h.hasOwnProperty(n)){var s=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(p.env==="node"||!p.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&
(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(p.env==="xhr"||!p.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);p.onXhr&&p.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),p.onXhrComplete&&p.onXhrComplete(s,e))},s.send(null)};else if(p.env==="rhino"||!p.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(p.env==="xpconnect"||!
p.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(e,t){var n,s,o={},u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),o),s.close(),n.close(),t(o.value)}catch(a){throw new Error((u&&u.path||"")+": "+a)}};return t}),define("text",["text/text"],function(e){return e}),define("text!view/generator/generator.html",[],function(){return'<div class="controls">\n	<div>\n		<input type="number" value="{{amount}}" min="1" max="50000" on-change="amount-update" />\n	</div>\n\n	<div class="options unselectable">\n		<ul>\n		{{#formatting:i}}\n			{{>formatOption}}\n		{{/formatting}}\n		</ul>\n	</div>\n\n	<div class="generate button unselectable" on-click="generate">\n		<span class="icon"></span>\n		<span class="label">generate</span>\n	</div>\n</div>\n\n{{#hasManyUuids}}\n	{{>footer}}\n{{/hasManyUuids}}\n\n{{#hasUuids}}\n	<div class="output">\n		<ul>\n		{{#uuidlist}}\n			<li>\n				<div class="uuid">{{.}}</div>\n			</li>\n		{{/uuidlist}}\n		</ul>\n	</div>\n\n	{{>footer}}\n{{/hasUuids}}\n\n{{#isWorking}}\n	{{>spinner}}\n{{/isWorking}}\n'
}),define("text!view/generator/footer.html",[],function(){return'<div class="footer">\n	<div class="clear button unselectable" on-click="clear">\n		<span class="icon"></span>\n		<span class="label">clear</span>\n	</div>\n</div>'}),define("text!view/generator/formatOption.html",[],function(){return'<li on-click="format:{{i}}">\n	<span>&#123;</span>\n	<input id="option-{{i}}" type="checkbox" value="checked" checked="{{selected}}" on-click="format:{{i}}" />\n	<label for="option-{{i}}">{{enum.label}}</span>\n	<span>&#125;</span>\n</li>'}),define("text!view/spinner/spinner.html",[],function(){return'<div class="modal-blinder">\n	<div class="modal-wrapper">\n		<div class="spinner">\n		  <div class="rect1"></div>\n		  <div class="rect2"></div>\n		  <div class="rect3"></div>\n		  <div class="rect4"></div>\n		  <div class="rect5"></div>\n		</div>\n	</div>\n</div>'}),define("vendor/require-css/normalize",["require","module"],function(e,t){function o(e,t,n){if(e.indexOf("data:")===0)return e;e=r(e
);if(e.match(/^\//)||e.match(s))return e;var i=n.match(s),o=t.match(s);return o&&(!i||i[1]!=o[1]||i[2]!=o[2])?u(e,t):a(u(e,t),n)}function u(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));var n=t.split("/"),r=e.split("/");n.pop();while(curPart=r.shift())curPart==".."?n.pop():n.push(curPart);return n.join("/")}function a(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var n=/([^:])\/+/g,r=function(e){return e.replace(n,"$1/")},s=/[^\:\/]*:\/\/([^\/])*/,f=function(e,t,n,i){t=r(t),n=r(n);var s=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,u,a,e;while(u=s.exec(e)){a=u[3]||u[2]||u[5]||u[6]||u[4];var f;i&&a.substr(0,1)=="/"?f=i+a:f=o(a,t,n);var l=u[5]||u[6]?1:0;e=e.substr(0,s.lastIndex-a.length-l-1)+f+e.substr(s.lastIndex-
l-1),s.lastIndex=s.lastIndex+(f.length-a.length)}return e};return f.convertURIBase=o,f}),define("vendor/require-css/css",["./normalize"],function(e){function t(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}if(typeof window=="undefined")return{load:function(e,t,n){n()}};var n=!1,r=document.getElementsByTagName("head")[0],i=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),s=!1;!i||(i[1]||i[7]?(s=parseInt(i[1])<6||parseInt(i[7])<=9,i="trident"):i[2]?(s=!0,i="webkit"):i[3]||(i[4]?(s=parseInt(i[4])<18,i="gecko"):n&&alert("Engine detection failed")));var o={},u=/^\/|([^\:\/]*:)/;o.pluginBuilder="./css-builder";var a=[],f={},l=[];o.addBuffer=function(e){if(t(a,e)!=-1)return;if(t(l,e)!=-1)return;a.push(e),l.push(e)},o.setBuffer=function(t,n){var r=window.location.pathname.split("/");r.pop(),r=r.join("/")+"/";var i=require.toUrl("base_url").split("/");i.pop();var s=i.join("/")+"/";s=e.convertURIBase
(s,r,"/"),s.match(u)||(s="/"+s),s.substr(s.length-1,1)!="/"&&(s+="/"),o.inject(e(t,s,r));for(var l=0;l<a.length;l++)(n&&a[l].substr(a[l].length-5,5)==".less"||!n&&a[l].substr(a[l].length-4,4)==".css")&&(function(e){f[e]=f[e]||!0,setTimeout(function(){typeof f[e]=="function"&&f[e](),delete f[e]},7)}(a[l]),a.splice(l--,1))},o.attachBuffer=function(e,n){for(var r=0;r<a.length;r++)if(a[r]==e)return f[e]=n,!0;if(f[e]===!0)return f[e]=n,!0;if(t(l,e)!=-1)return n(),!0};var c=function(e,t){setTimeout(function(){for(var n=0;n<document.styleSheets.length;n++){var r=document.styleSheets[n];if(r.href==e.href)return t()}c(e,t)},10)},h=function(e,t){setTimeout(function(){try{return e.sheet.cssRules,t()}catch(n){}h(e,t)},10)};if(i=="trident"&&s)var p=[],d=[],v=0,m=function(e,t){var n;d.push({url:e,cb:t}),n=p.shift(),!n&&v++<12&&(n=document.createElement("style"),r.appendChild(n)),g(n)},g=function(e){var t=d.shift();if(!t){e.onload=b,p.push(e);return}e.onload=function(){t.cb(t.ss),g(e)};var n=e.styleSheet
;t.ss=n.imports[n.addImport(t.url)]};var y=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},b=function(){};o.linkLoad=function(e,t){var o=setTimeout(function(){n&&alert("timeout"),t()},L*1e3-100),u=function(){clearTimeout(o),a&&(a.onload=b),setTimeout(t,7)};if(!s){var a=y(e);a.onload=u,r.appendChild(a)}else if(i=="webkit"){var a=y(e);c(a,u),r.appendChild(a)}else if(i=="gecko"){var f=document.createElement("style");f.textContent='@import "'+e+'"',h(f,u),r.appendChild(f)}else i=="trident"&&m(e,u)};var w=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],E={},S=function(e,t,n){if(E[e]){t(E[e]);return}var r,i,s;if(typeof XMLHttpRequest!="undefined")r=new XMLHttpRequest;else if(typeof ActiveXObject!="undefined")for(i=0;i<3;i+=1){s=w[i];try{r=new ActiveXObject(s)}catch(o){}if(r){w=[s];break}}r.open("GET",e,requirejs.inlineRequire?!1:!0),r.onreadystatechange=function(i){var s,o;r.readyState===4&&(s=r.status,s>399&&s<600?(o=new Error
(e+" HTTP status: "+s),o.xhr=r,n(o)):(E[e]=r.responseText,t(r.responseText)))},r.send(null)},x=0,T;o.inject=function(e){x<31&&(T=document.createElement("style"),T.type="text/css",r.appendChild(T),x++),T.styleSheet?T.styleSheet.cssText+=e:T.appendChild(document.createTextNode(e))};var N=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,C=window.location.pathname.split("/");C.pop(),C=C.join("/")+"/";var k=function(t,n,r){t.match(u)||(t="/"+e.convertURIBase(t,C,"/")),S(t,function(i){i=e(i,t,C);var s=[],o=[],u=[],a;while(a=N.exec(i)){var f=a[4]||a[5]||a[7]||a[8]||a[9];s.push(f),o.push(N.lastIndex-a[0].length),u.push(a[0].length)}var l=0;for(var c=0;c<s.length;c++)(function(e){k(s[e],function(t){i=i.substr(0,o[e])+t+i.substr(o[e]+u[e]);var r=t.length-u[e];for(var a=e+1;a<s.length;a++)o[a]+=r;l++,l==s.length&&n(i)},r)})(c);s.length==0&&n(i)},r)};o.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)};var L,A=!1;return o
.load=function(e,t,r,i,u){L=L||i.waitSeconds||7;var a=e+(u?".less":".css");if(o.attachBuffer(a,r))return;fileUrl=t.toUrl(a),!A&&n&&(alert(s?"hacking links":"not hacking"),A=!0),u?k(fileUrl,function(e){u&&(e=u(e,function(e){o.inject(e),setTimeout(r,7)}))}):o.linkLoad(fileUrl,r)},n&&(o.inspect=function(){if(stylesheet.styleSheet)return stylesheet.styleSheet.cssText;if(stylesheet.innerHTML)return stylesheet.innerHTML}),o}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("view/generator/generator.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("view/spinner/spinner.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,define("view/generator/generator",["lodash","ractive","controller/machine","enum/uuidformat","text!view/generator/generator.html","text!view/generator/footer.html","text!view/generator/formatOption.html","text!view/spinner/spinner.html"
,"css!view/generator/generator.css","css!view/spinner/spinner.css"],function(e,t,n,r,i,s,o,u){var a=function(e){this.element=e,this.amount=1,this.formatting=[{"enum":r.Uppercase,selected:!1},{"enum":r.Hyphens,selected:!0},{"enum":r.Braces,selected:!0}],this.machine=new n([r.Hyphens,r.Braces]),this.machine.generate(this.amount),this.render()};return a.prototype.generate=function(e){var t=this;setTimeout(function(){t.machine.generate(t.amount),e&&e()},1)},a.prototype.format=function(t){var n=this;setTimeout(function(){var r=e.pluck(e.filter(n.formatting,function(e){return e.selected}),"enum");n.machine.format(r),t&&t()},1)},a.prototype.clear=function(e){var t=this;setTimeout(function(){t.machine.clear(),e&&e()},1)},a.prototype.render=function(){var e=this;e.ractive=new t({el:e.element,template:i,partials:{footer:s,spinner:u,formatOption:o},data:{amount:e.amount,formatting:e.formatting,uuidlist:e.machine.formatted,hasUuids:!0,hasManyUuids:!1,isWorking:!1}}),e.ractive.on("amount-update",function(
){e.amount=this.data.amount}),e.ractive.on("generate",function(){e.ractive.set("isWorking",!0),e.generate(function(){e.ractive.set("uuidlist",e.machine.formatted),e.ractive.set("hasUuids",e.machine.formatted.length>0),e.ractive.set("hasManyUuids",e.machine.formatted.length>=50),e.ractive.set("isWorking",!1)})}),e.ractive.on("format",function(t,n){e.ractive.set("isWorking",!0),navigator.userAgent.indexOf("Firefox/")!=-1&&t.node.tagName==="INPUT"&&(e.formatting[n].selected=!e.formatting[n].selected),t.original.stopPropagation(),e.format(function(){e.ractive.set("uuidlist",e.machine.formatted),e.ractive.set("hasUuids",e.machine.formatted.length>0),e.ractive.set("hasManyUuids",e.machine.formatted.length>=50),e.ractive.set("isWorking",!1)})}),e.ractive.on("clear",function(){e.ractive.set("isWorking",!0),e.clear(function(){e.ractive.set("uuidlist",e.machine.formatted),e.ractive.set("hasUuids",e.machine.formatted.length>0),e.ractive.set("hasManyUuids",e.machine.formatted.length>=50),e.ractive.
set("isWorking",!1)})})},a}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.setBuffer('.controls {padding: 1em;} .controls div {display: inline-block; margin: 0.6em;} .controls input[type="number"] {width: 7em; color: #ffffff; background-color: #004b67; padding: 0.5em; border: 1px solid #000000; text-align: center; font-size: 10pt;} .controls .generate.button .icon {background-image: url(view/generator/images/glyphicons_136_cogwheel.png);} .options ul {display: inline-block; font-size: 10pt; margin: 0; padding: 0.5em; list-style: none;} .options ul li {cursor: default; display: inline-block; list-style-type: none; padding-left: 0.25em; padding-right: 0.25em;} .options ul li input[type="checkbox"] {position: relative; top: 2px; margin: 0; cursor: pointer;} .options ul li label {cursor: pointer;} .output {font-family: monospace; text-align: center;} .output ul {padding: 0.5em; list-style: none;} .output ul li {list-style-type: none;} .footer {padding: 1em;} .footer .clear.button .icon {background-image: url(view/generator/images/glyphicons_207_remove_2.png);} @media (min-width: 800px) {.controls div {margin: 0.3em;} .options ul li input[type="checkbox"] {top: 0px;}}.modal-blinder {position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: 100; opacity: 0.5; background-color: #000000;} .modal-blinder .modal-wrapper {position: absolute; top: 50%; left: 50%;} .spinner {position: relative; left: -50%; top: -50%; margin: 0; width: 50px; height: 30px; text-align: center; font-size: 10px;} .spinner > div {background-color: #ffffff; height: 100%; width: 6px; display: inline-block; -webkit-animation: stretchdelay 1.2s infinite ease-in-out; animation: stretchdelay 1.2s infinite ease-in-out;} .spinner .rect2 {-webkit-animation-delay: -1.1s; animation-delay: -1.1s;} .spinner .rect3 {-webkit-animation-delay: -1.0s; animation-delay: -1.0s;} .spinner .rect4 {-webkit-animation-delay: -0.9s; animation-delay: -0.9s;} .spinner .rect5 {-webkit-animation-delay: -0.8s; animation-delay: -0.8s;} @-webkit-keyframes stretchdelay {0%, 40%, 100% {-webkit-transform: scaleY(0.4)} 20% {-webkit-transform: scaleY(1.0)}} @keyframes stretchdelay {0%, 40%, 100% {transform: scaleY(0.4); -webkit-transform: scaleY(0.4);} 20% {transform: scaleY(1.0); -webkit-transform: scaleY(1.0);}}'
)}),requirejs.s.contexts._.nextTick=requirejs.nextTick})();