define(["lodash","util/uuid","enum/uuidformat"],function(e,t,n){var r=function(e){this.formatting=e,this.values=[],this.formatted=[]};return r.prototype.generate=function(r){this.clear();for(i=0;i<r;i++)this.values.push(t.generate());this.formatted=e.clone(this.values),e.contains(this.formatting,n.Uppercase)&&this.setUppercase(),e.contains(this.formatting,n.Hyphens)&&this.setHypens(),e.contains(this.formatting,n.Braces)&&this.setBraces()},r.prototype.clear=function(){this.values=[],this.formatted=[]},r.prototype.format=function(t){t&&(this.previousFormatting=this.formatting,this.formatting=t),e.contains(this.formatting,n.Uppercase)&&!e.contains(this.previousFormatting,n.Uppercase)?this.setUppercase():!e.contains(this.formatting,n.Uppercase)&&e.contains(this.previousFormatting,n.Uppercase)&&this.unsetUppercase(),e.contains(this.formatting,n.Hyphens)&&!e.contains(this.previousFormatting,n.Hyphens)?this.setHypens():!e.contains(this.formatting,n.Hyphens)&&e.contains(this.previousFormatting,
n.Hyphens)&&this.unsetHypens(),e.contains(this.formatting,n.Braces)&&!e.contains(this.previousFormatting,n.Braces)?this.setBraces():!e.contains(this.formatting,n.Braces)&&e.contains(this.previousFormatting,n.Braces)&&this.unsetBraces()},r.prototype.setUppercase=function(){var t=this;e.forEach(t.formatted,function(e,n){t.formatted[n]=t.formatted[n].toUpperCase()})},r.prototype.unsetUppercase=function(){var t=this;e.forEach(t.formatted,function(e,n){t.formatted[n]=t.formatted[n].toLowerCase()})},r.prototype.setHypens=function(){var t=this;e.forEach(t.formatted,function(r,i){var s=e.contains(t.formatting,n.Braces)?1:0;e.forEach([8+s,13+s,18+s,23+s],function(e){(function(n){t.formatted[n]=function(e){return[t.formatted[n].slice(0,e),t.formatted[n].slice(e)].join("-")}(e)})(i)})})},r.prototype.unsetHypens=function(){var t=this;e.forEach(t.formatted,function(e,n){t.formatted[n]=t.formatted[n].replace(/-/g,"")})},r.prototype.setBraces=function(){var t=this;e.forEach(this.formatted,function(e,n
){t.formatted[n]="{"+t.formatted[n]+"}"})},r.prototype.unsetBraces=function(){var t=this;e.forEach(this.formatted,function(e,n){t.formatted[n]=t.formatted[n].replace(/[\{\}]/g,"")})},r});